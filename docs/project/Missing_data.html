<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Categorical Data Analysis - Missing Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-sm navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/Bsta513.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Categorical Data Analysis</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../syllabus.html" rel="" target="" aria-current="page">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html" rel="" target="">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../homeworks.html" rel="" target="">
 <span class="menu-text">Homework</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../project.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Missing Data</li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Course Info</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instructors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Instructors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../quizzes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quizzes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Course Materials</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Weekly Pages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lessons</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homeworks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../readings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">613 Readings</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#citizenship-had-missing-data-that-was-not-coded-as-na" id="toc-citizenship-had-missing-data-that-was-not-coded-as-na" class="nav-link active" data-scroll-target="#citizenship-had-missing-data-that-was-not-coded-as-na">Citizenship had missing data that was not coded as <code>NA</code></a></li>
  <li><a href="#look-at-the-missing-data-pattern" id="toc-look-at-the-missing-data-pattern" class="nav-link" data-scroll-target="#look-at-the-missing-data-pattern">Look at the missing data pattern</a></li>
  <li><a href="#check-the-distributions-of-the-variables-from-the-observed-vs.-missing-data" id="toc-check-the-distributions-of-the-variables-from-the-observed-vs.-missing-data" class="nav-link" data-scroll-target="#check-the-distributions-of-the-variables-from-the-observed-vs.-missing-data">Check the distributions of the variables from the observed vs.&nbsp;missing data</a></li>
  <li><a href="#use-mice-to-impute-data" id="toc-use-mice-to-impute-data" class="nav-link" data-scroll-target="#use-mice-to-impute-data">Use mice to impute data</a></li>
  <li><a href="#complete-data" id="toc-complete-data" class="nav-link" data-scroll-target="#complete-data">Complete data</a></li>
  <li><a href="#see-how-the-imputed-values-look-within-the-observed-values" id="toc-see-how-the-imputed-values-look-within-the-observed-values" class="nav-link" data-scroll-target="#see-how-the-imputed-values-look-within-the-observed-values">See how the imputed values look within the observed values</a></li>
  <li><a href="#fit-regression-with-imputations" id="toc-fit-regression-with-imputations" class="nav-link" data-scroll-target="#fit-regression-with-imputations">Fit regression with imputations</a></li>
  <li><a href="#we-can-do-an-informal-sensitivity-analysis" id="toc-we-can-do-an-informal-sensitivity-analysis" class="nav-link" data-scroll-target="#we-can-do-an-informal-sensitivity-analysis">We can do an informal sensitivity analysis</a></li>
  <li><a href="#now-we-can-proceed-with-the-other-parts-of-lab-3" id="toc-now-we-can-proceed-with-the-other-parts-of-lab-3" class="nav-link" data-scroll-target="#now-we-can-proceed-with-the-other-parts-of-lab-3">Now we can proceed with the other parts of Lab 3</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Missing Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">here</span>(<span class="st">"project"</span>, <span class="st">"data"</span>, <span class="st">"wbns_data.rda"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>My variables:</p>
<ul>
<li><p>Outcome: food insecurity</p></li>
<li><p>Predictors:</p>
<ul>
<li>PPAGE: Age</li>
<li>LGBT: Gay or lesbian, bisexual, or transgender (re-coded)</li>
<li>XACSNET: Internet access</li>
<li>PARTNER: Living with a partner</li>
<li>FAMSIZE: Family size - field data and imputed</li>
<li>INSURED: Insured at time of survey</li>
<li>UNMETCARE_Y: Needed medical care but did not get it because could not afford it in past 12 months</li>
<li>PPP20197: Citizen</li>
<li>PPINCIMP: Household income</li>
<li>PPETHM: Race/ethnicity</li>
</ul></li>
</ul>
<p>You should only need to replace my dataset name with yours and my use of variable names with your project’s variables.</p>
<p>There are two blank sections that I invite you to try to complete. These are both important parts of quality assurance. It’s good to check that the distribution of fully observed variables are not different in the missing vs.&nbsp;observed groups of our variables with missing data. Also, it is important to see how our imputed data look if we place it back with the observed data. Do they stand out? I hope not! (I was going to provide code for this, but it’s not new stuff. You can visualize these! … And I really ran out of time this week :( )</p>
<section id="citizenship-had-missing-data-that-was-not-coded-as-na" class="level2">
<h2 class="anchored" data-anchor-id="citizenship-had-missing-data-that-was-not-coded-as-na">Citizenship had missing data that was not coded as <code>NA</code></h2>
<p>I’m using the <code>replace_with_na</code> function to change the missing category to <code>NA</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(wbns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ID            FOOD_INSEC      PPAGE         LGBT      XACSNET   
 Length:8142        No  :6015   Min.   :18.00   No  :6852   No : 378  
 Class :character   Yes :2069   1st Qu.:36.00   Yes : 621   Yes:7764  
 Mode  :character   NA's:  58   Median :47.00   NA's: 669             
                                Mean   :45.92                         
                                3rd Qu.:57.00                         
                                Max.   :64.00                         
                                                                      
 PARTNER       FAMSIZE     INSURED     UNMETCARE_Y      PPP20197   
 No :7326   2      :3009   No  : 856   No :6725    Yes      :6825  
 Yes: 816   1      :2753   Yes :7167   Yes:1417    Missing  :   5  
            3      : 986   NA's: 119               No       : 470  
            4      : 880                           Not asked: 842  
            5      : 336                                           
            6      : 114                                           
            (Other):  64                                           
                 PPINCIMP                       PPETHM    
 Less than $5,000    : 717   White, Non-Hispanic   :4738  
 $100,000 to $124,999: 641   2+ Races, Non-Hispanic: 238  
 $15,000 to $19,999  : 511   Black, Non-Hispanic   :1023  
 $20,000 to $24,999  : 499   Hispanic              :1473  
 $60,000 to $74,999  : 443   Other, Non-Hispanic   : 670  
 $150,000 to $174,999: 423                                
 (Other)             :4908                                
                        PPEDUCAT   
 Less than high school      : 613  
 Bachelor's degree or higher:3041  
 High school                :1940  
 Some college               :2548  
                                   
                                   
                                   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>wbns_miss <span class="ot">=</span> wbns <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_with_na</span>(<span class="at">replace =</span> <span class="fu">list</span>(<span class="at">PPP20197 =</span> <span class="st">"Missing"</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># If Missing, replace with NA, if not then keep value as is</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(wbns_miss)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ID            FOOD_INSEC      PPAGE         LGBT      XACSNET   
 Length:8142        No  :6015   Min.   :18.00   No  :6852   No : 378  
 Class :character   Yes :2069   1st Qu.:36.00   Yes : 621   Yes:7764  
 Mode  :character   NA's:  58   Median :47.00   NA's: 669             
                                Mean   :45.92                         
                                3rd Qu.:57.00                         
                                Max.   :64.00                         
                                                                      
 PARTNER       FAMSIZE     INSURED     UNMETCARE_Y      PPP20197   
 No :7326   2      :3009   No  : 856   No :6725    Yes      :6825  
 Yes: 816   1      :2753   Yes :7167   Yes:1417    Missing  :   0  
            3      : 986   NA's: 119               No       : 470  
            4      : 880                           Not asked: 842  
            5      : 336                           NA's     :   5  
            6      : 114                                           
            (Other):  64                                           
                 PPINCIMP                       PPETHM    
 Less than $5,000    : 717   White, Non-Hispanic   :4738  
 $100,000 to $124,999: 641   2+ Races, Non-Hispanic: 238  
 $15,000 to $19,999  : 511   Black, Non-Hispanic   :1023  
 $20,000 to $24,999  : 499   Hispanic              :1473  
 $60,000 to $74,999  : 443   Other, Non-Hispanic   : 670  
 $150,000 to $174,999: 423                                
 (Other)             :4908                                
                        PPEDUCAT   
 Less than high school      : 613  
 Bachelor's degree or higher:3041  
 High school                :1940  
 Some college               :2548  
                                   
                                   
                                   </code></pre>
</div>
</div>
</section>
<section id="look-at-the-missing-data-pattern" class="level2">
<h2 class="anchored" data-anchor-id="look-at-the-missing-data-pattern">Look at the missing data pattern</h2>
<p>Now I can look at the missing data pattern.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">md.pattern</span>(wbns_miss, <span class="at">rotate.names =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Missing_data_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     ID PPAGE XACSNET PARTNER FAMSIZE UNMETCARE_Y PPINCIMP PPETHM PPEDUCAT
7331  1     1       1       1       1           1        1      1        1
644   1     1       1       1       1           1        1      1        1
88    1     1       1       1       1           1        1      1        1
16    1     1       1       1       1           1        1      1        1
38    1     1       1       1       1           1        1      1        1
5     1     1       1       1       1           1        1      1        1
14    1     1       1       1       1           1        1      1        1
1     1     1       1       1       1           1        1      1        1
2     1     1       1       1       1           1        1      1        1
3     1     1       1       1       1           1        1      1        1
      0     0       0       0       0           0        0      0        0
     PPP20197 FOOD_INSEC INSURED LGBT    
7331        1          1       1    1   0
644         1          1       1    0   1
88          1          1       0    1   1
16          1          1       0    0   2
38          1          0       1    1   1
5           1          0       1    0   2
14          1          0       0    1   2
1           1          0       0    0   3
2           0          1       1    1   1
3           0          1       1    0   2
            5         58     119  669 851</code></pre>
</div>
</div>
<p>Looks like citizenship, food insecurity, insurance, and identifying as LGBT have missing data.</p>
</section>
<section id="check-the-distributions-of-the-variables-from-the-observed-vs.-missing-data" class="level2">
<h2 class="anchored" data-anchor-id="check-the-distributions-of-the-variables-from-the-observed-vs.-missing-data">Check the distributions of the variables from the observed vs.&nbsp;missing data</h2>
</section>
<section id="use-mice-to-impute-data" class="level2">
<h2 class="anchored" data-anchor-id="use-mice-to-impute-data">Use mice to impute data</h2>
<p>Now we can use the <code>mice()</code> function to impute the data.</p>
<p>Let’s break down what I’m using in the function below:</p>
<ul>
<li><p>I set <code>m=5</code> as the number of imputations that I will be running</p></li>
<li><p>I set <code>print = F</code> so I don’t get the message as it imputes</p></li>
<li><p>I set <code>defaultMethod = c("norm", "logreg", "polyreg", "polr")</code></p>
<ul>
<li>This means <code>mice</code> will determine which method to use based on the type of variable</li>
<li>For binary variables it will use “logreg.” Thus, it will use logistic regression to predict the missing values. This will include food insecurity, insured, and LGBT variables in my data.</li>
<li>For continuous variables, it will use “norm.predict” which will consist of predicting the missing values from linear regression. I don’t have any missing continuous values, so this one is not used.</li>
<li>For multi-level categorical varaibles, we use “polyreg” which is a type of logistic regression that is expanded to handle multiple levels of outcomes. This will include citizenship in my data.</li>
<li>For ordinal variables, we use “polr” which is a proportional odds model, another type of generalized linear regression model that handles ordered categories. I don’t have any missing ordinal variables, so this one is not used.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>wbns_MI_5 <span class="ot">=</span> <span class="fu">mice</span>(wbns_miss, <span class="at">m=</span><span class="dv">5</span>, <span class="at">print =</span> F, </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">defaultMethod =</span> <span class="fu">c</span>(<span class="st">"norm.predict"</span>, <span class="st">"logreg"</span>, <span class="st">"polyreg"</span>, <span class="st">"polr"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Number of logged events: 76</code></pre>
</div>
</div>
</section>
<section id="complete-data" class="level2">
<h2 class="anchored" data-anchor-id="complete-data">Complete data</h2>
<p>It’s hard to parse through the output of <code>mice</code>, but we can take a look at one of the imputation’s complete (aka filled in) data. Below I will look at the first imputation (hence the <code>1</code>). You can change the <code>1</code> to anything up to 5 to see the different imputations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">=</span> <span class="fu">complete</span>(wbns_MI_5, <span class="dv">1</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(d1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ID            FOOD_INSEC     PPAGE        LGBT      XACSNET    PARTNER   
 Length:8142        No :6049   Min.   :18.00   No :7455   No : 378   No :7326  
 Class :character   Yes:2093   1st Qu.:36.00   Yes: 687   Yes:7764   Yes: 816  
 Mode  :character              Median :47.00                                   
                               Mean   :45.92                                   
                               3rd Qu.:57.00                                   
                               Max.   :64.00                                   
                                                                               
    FAMSIZE     INSURED    UNMETCARE_Y      PPP20197   
 2      :3009   No : 877   No :6725    Yes      :6827  
 1      :2753   Yes:7265   Yes:1417    Missing  :   0  
 3      : 986                          No       : 472  
 4      : 880                          Not asked: 843  
 5      : 336                                          
 6      : 114                                          
 (Other):  64                                          
                 PPINCIMP                       PPETHM    
 Less than $5,000    : 717   White, Non-Hispanic   :4738  
 $100,000 to $124,999: 641   2+ Races, Non-Hispanic: 238  
 $15,000 to $19,999  : 511   Black, Non-Hispanic   :1023  
 $20,000 to $24,999  : 499   Hispanic              :1473  
 $60,000 to $74,999  : 443   Other, Non-Hispanic   : 670  
 $150,000 to $174,999: 423                                
 (Other)             :4908                                
                        PPEDUCAT   
 Less than high school      : 613  
 Bachelor's degree or higher:3041  
 High school                :1940  
 Some college               :2548  
                                   
                                   
                                   </code></pre>
</div>
</div>
</section>
<section id="see-how-the-imputed-values-look-within-the-observed-values" class="level2">
<h2 class="anchored" data-anchor-id="see-how-the-imputed-values-look-within-the-observed-values">See how the imputed values look within the observed values</h2>
</section>
<section id="fit-regression-with-imputations" class="level2">
<h2 class="anchored" data-anchor-id="fit-regression-with-imputations">Fit regression with imputations</h2>
<p>Below is how we run a regression model with the output from <code>mice</code> (<code>wbns_MI_5</code>). We use the <code>with</code> function that can be read as: With <code>wbns_MI_5</code>, run the following <code>glm</code> function. It will automatically know to know 5 different regressions, one with each imputed dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>reg <span class="ot">=</span> <span class="fu">with</span>(wbns_MI_5, <span class="fu">glm</span>(FOOD_INSEC <span class="sc">~</span> PPAGE <span class="sc">+</span> LGBT <span class="sc">+</span> XACSNET <span class="sc">+</span> PARTNER <span class="sc">+</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>                                   FAMSIZE <span class="sc">+</span> INSURED <span class="sc">+</span> UNMETCARE_Y <span class="sc">+</span> PPP20197 <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                            PPETHM, <span class="at">family =</span> binomial))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once I have fit the regression model with each imputed dataset, I can pool the results. The <code>mice</code> function will use Rubin’s Rules to pool the estimates and variances. Note the use of the <code>pool</code> function!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>pooled_reg_MI <span class="ot">=</span> <span class="fu">pool</span>(reg)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>mi_reg <span class="ot">=</span> <span class="fu">summary</span>(pooled_reg_MI, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>mi_reg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                           term    estimate   std.error  statistic        df
1                   (Intercept) -0.94092399 0.191125980 -4.9230565  371.1422
2                         PPAGE  0.00433198 0.002352706  1.8412753 4257.8618
3                       LGBTYes  0.29504789 0.094069406  3.1364915 7823.2657
4                    XACSNETYes -0.53596317 0.120983545 -4.4300502 2633.9023
5                    PARTNERYes  0.74171351 0.091820246  8.0778864 7755.2850
6                      FAMSIZE2 -0.66386257 0.071469877 -9.2887045 7184.0725
7                      FAMSIZE3 -0.30985352 0.093877706 -3.3006082 8042.7947
8                      FAMSIZE4 -0.37783269 0.100154973 -3.7724806 8113.8532
9                      FAMSIZE5 -0.09145848 0.140895783 -0.6491215 7209.2753
10                     FAMSIZE6 -0.13370972 0.233548879 -0.5725128 8115.1279
11                     FAMSIZE7 -0.17014962 0.383547409 -0.4436208 8119.0239
12             FAMSIZE8 or more  0.71359901 0.454899462  1.5686961 8117.4492
13                   INSUREDYes -0.26630423 0.090125051 -2.9548303  267.5774
14               UNMETCARE_YYes  1.63076485 0.065345023 24.9562213 6570.3110
15                   PPP20197No  0.16420384 0.126611682  1.2969091 2663.4593
16            PPP20197Not asked  0.64393756 0.084100957  7.6567210 5487.8370
17 PPETHM2+ Races, Non-Hispanic  0.62960454 0.150679742  4.1784286 8107.6586
18    PPETHMBlack, Non-Hispanic  0.48429429 0.082295957  5.8847884 6012.6999
19               PPETHMHispanic  0.57000522 0.076440622  7.4568365 6839.4712
20    PPETHMOther, Non-Hispanic -0.53485283 0.129266329 -4.1376036 6390.7763
         p.value         2.5 %      97.5 %
1   1.284335e-06 -1.3167495965 -0.56509839
2   6.565074e-02 -0.0002805507  0.00894451
3   1.716164e-03  0.1106467165  0.47944907
4   9.805811e-06 -0.7731955792 -0.29873077
5   7.585129e-16  0.5617210473  0.92170598
6   2.031468e-20 -0.8039645609 -0.52376058
7   9.689561e-04 -0.4938781410 -0.12582891
8   1.627826e-04 -0.5741621197 -0.18150327
9   5.162805e-01 -0.3676555070  0.18473855
10  5.669905e-01 -0.5915253974  0.32410595
11  6.573286e-01 -0.9220008165  0.58170157
12  1.167577e-01 -0.1781205135  1.60531853
13  3.406969e-03 -0.4437486779 -0.08885979
14 2.056988e-131  1.5026673651  1.75886234
15  1.947748e-01 -0.0840633202  0.41247099
16  2.240009e-14  0.4790663555  0.80880877
17  2.966107e-05  0.3342335827  0.92497551
18  4.200523e-09  0.3229647002  0.64562387
19  9.956707e-14  0.4201578390  0.71985261
20  3.554574e-05 -0.7882581666 -0.28144748</code></pre>
</div>
</div>
</section>
<section id="we-can-do-an-informal-sensitivity-analysis" class="level2">
<h2 class="anchored" data-anchor-id="we-can-do-an-informal-sensitivity-analysis">We can do an informal sensitivity analysis</h2>
<p>Here I am simply running a logistic regression model using our complete data. We can compare the estimates from this model to the pooled estimates from the multiply imputed datasets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>wbns_cc <span class="ot">=</span> wbns_miss <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>()</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>reg_cc <span class="ot">=</span> <span class="fu">glm</span>(FOOD_INSEC <span class="sc">~</span> PPAGE <span class="sc">+</span> LGBT <span class="sc">+</span> XACSNET <span class="sc">+</span> PARTNER <span class="sc">+</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>               FAMSIZE <span class="sc">+</span> INSURED <span class="sc">+</span> UNMETCARE_Y <span class="sc">+</span> PPP20197 <span class="sc">+</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>               PPETHM, <span class="at">family =</span> binomial, <span class="at">data =</span> wbns_cc)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>cc_reg <span class="ot">=</span> <span class="fu">summary</span>(reg_cc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I will put the estimates side-by-side now.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>estimates <span class="ot">=</span> <span class="fu">cbind</span>(<span class="at">Mult_imp =</span> mi_reg<span class="sc">$</span>estimate, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">Complete_case =</span> cc_reg<span class="sc">$</span>coefficients[,<span class="dv">1</span>])</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>estimates</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                Mult_imp Complete_case
(Intercept)                  -0.94092399  -0.923507128
PPAGE                         0.00433198   0.003963706
LGBTYes                       0.29504789   0.253429229
XACSNETYes                   -0.53596317  -0.537266195
PARTNERYes                    0.74171351   0.756557601
FAMSIZE2                     -0.66386257  -0.733347778
FAMSIZE3                     -0.30985352  -0.431279163
FAMSIZE4                     -0.37783269  -0.469643349
FAMSIZE5                     -0.09145848  -0.136786735
FAMSIZE6                     -0.13370972  -0.333273866
FAMSIZE7                     -0.17014962  -0.158287657
FAMSIZE8 or more              0.71359901   0.698218128
INSUREDYes                   -0.26630423  -0.242185879
UNMETCARE_YYes                1.63076485   1.739880532
PPP20197No                    0.16420384   0.239127321
PPP20197Not asked             0.64393756   0.596022881
PPETHM2+ Races, Non-Hispanic  0.62960454   0.641231577
PPETHMBlack, Non-Hispanic     0.48429429   0.457402801
PPETHMHispanic                0.57000522   0.535396844
PPETHMOther, Non-Hispanic    -0.53485283  -0.541533105</code></pre>
</div>
</div>
<p>The most important thing I am noting is that:</p>
<ol type="1">
<li>The complete case estimates have the same signs as the pooled.</li>
<li>For the most part, the magnitude of the estimates have not changed by much. Family size seems to be the most impacted.</li>
</ol>
</section>
<section id="now-we-can-proceed-with-the-other-parts-of-lab-3" class="level2">
<h2 class="anchored" data-anchor-id="now-we-can-proceed-with-the-other-parts-of-lab-3">Now we can proceed with the other parts of Lab 3</h2>
<p>Below is some sample code for how I would make a tidy dataset or an odds ratio table from the pooled results! From <code>reg</code> and <code>pooled_reg_MI</code> you should be able to do everything else in Lab 3!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(pooled_reg_MI, <span class="at">exponentiate=</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                           term  estimate   std.error  statistic       p.value
1                   (Intercept) 0.3902671 0.191125980 -4.9230565  1.284335e-06
2                         PPAGE 1.0043414 0.002352706  1.8412753  6.565074e-02
3                       LGBTYes 1.3431907 0.094069406  3.1364915  1.716164e-03
4                    XACSNETYes 0.5851055 0.120983545 -4.4300502  9.805811e-06
5                    PARTNERYes 2.0995300 0.091820246  8.0778864  7.585129e-16
6                      FAMSIZE2 0.5148588 0.071469877 -9.2887045  2.031468e-20
7                      FAMSIZE3 0.7335544 0.093877706 -3.3006082  9.689561e-04
8                      FAMSIZE4 0.6853452 0.100154973 -3.7724806  1.627826e-04
9                      FAMSIZE5 0.9125992 0.140895783 -0.6491215  5.162805e-01
10                     FAMSIZE6 0.8748440 0.233548879 -0.5725128  5.669905e-01
11                     FAMSIZE7 0.8435386 0.383547409 -0.4436208  6.573286e-01
12             FAMSIZE8 or more 2.0413248 0.454899462  1.5686961  1.167577e-01
13                   INSUREDYes 0.7662060 0.090125051 -2.9548303  3.406969e-03
14               UNMETCARE_YYes 5.1077799 0.065345023 24.9562213 2.056988e-131
15                   PPP20197No 1.1784545 0.126611682  1.2969091  1.947748e-01
16            PPP20197Not asked 1.9039631 0.084100957  7.6567210  2.240009e-14
17 PPETHM2+ Races, Non-Hispanic 1.8768682 0.150679742  4.1784286  2.966107e-05
18    PPETHMBlack, Non-Hispanic 1.6230292 0.082295957  5.8847884  4.200523e-09
19               PPETHMHispanic 1.7682763 0.076440622  7.4568365  9.956707e-14
20    PPETHMOther, Non-Hispanic 0.5857555 0.129266329 -4.1376036  3.554574e-05
              b        df dfcom          fmi       lambda m          riv
1  3.078828e-03  371.1422  8122 0.1059458931 1.011410e-01 5 1.125215e-01
2  9.635094e-08 4257.8618  8122 0.0213478239 2.088824e-02 5 2.133387e-02
3  3.010394e-05 7823.2657  8122 0.0043368335 4.082327e-03 5 4.099061e-03
4  3.876201e-04 2633.9023  8122 0.0325129738 3.177861e-02 5 3.282164e-02
5  3.212251e-05 7755.2850  8122 0.0048286900 4.572080e-03 5 4.593080e-03
6  3.305960e-05 7184.0725  8122 0.0080427492 7.766633e-03 5 7.827426e-03
7  1.426055e-05 8042.7947  8122 0.0021898414 1.941747e-03 5 1.945525e-03
8  3.446834e-06 8113.8532  8122 0.0006586404 4.123410e-04 5 4.125111e-04
9  1.264598e-04 7209.2753  8122 0.0079194852 7.644300e-03 5 7.703185e-03
10 1.594018e-05 8115.1279  8122 0.0005969622 3.506864e-04 5 3.508094e-04
11 1.093794e-05 8119.0239  8122 0.0003354454 8.922336e-05 5 8.923132e-05
12 3.757543e-05 8117.4492  8122 0.0004641367 2.178986e-04 5 2.179461e-04
13 8.119475e-04  267.5774  8122 0.1264598795 1.199549e-01 5 1.363055e-01
14 3.747975e-05 6570.3110  8122 0.0108340745 1.053302e-02 5 1.064514e-02
15 4.209953e-04 2663.4593  8122 0.0322409563 3.151454e-02 5 3.254002e-02
16 8.913799e-05 5487.8370  8122 0.0154818829 1.512315e-02 5 1.535537e-02
17 1.237177e-05 8107.6586  8122 0.0009003157 6.538879e-04 5 6.543157e-04
18 7.276280e-05 6012.6999  8122 0.0132205733 1.289240e-02 5 1.306078e-02
19 4.556804e-05 6839.4712  8122 0.0096477741 9.358217e-03 5 9.446621e-03
20 1.573331e-04 6390.7763  8122 0.0116080206 1.129875e-02 5 1.142787e-02
           ubar
1  3.283455e-02
2  5.419605e-06
3  8.812928e-03
4  1.417187e-02
5  8.392411e-03
6  5.068272e-03
7  8.795911e-03
8  1.002688e-02
9  1.969987e-02
10 5.452595e-02
11 1.470955e-01
12 2.068884e-01
13 7.148188e-03
14 4.224996e-03
15 1.552532e-02
16 6.966005e-03
17 2.268954e-02
18 6.685309e-03
19 5.788487e-03
20 1.652098e-02</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tbl_regression</span>(reg, <span class="at">exponentiate =</span> T) <span class="co"># Note I am not using the pooled results</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>pool_and_tidy_mice(): Tidying mice model with
`mice::pool(x) %&gt;% mice::tidy(conf.int = TRUE, conf.level = 0.95, exponentiate = TRUE)`</code></pre>
</div>
<div class="cell-output-display">

<div id="qgakuydfdl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qgakuydfdl table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qgakuydfdl thead, #qgakuydfdl tbody, #qgakuydfdl tfoot, #qgakuydfdl tr, #qgakuydfdl td, #qgakuydfdl th {
  border-style: none;
}

#qgakuydfdl p {
  margin: 0;
  padding: 0;
}

#qgakuydfdl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qgakuydfdl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qgakuydfdl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qgakuydfdl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qgakuydfdl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qgakuydfdl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qgakuydfdl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qgakuydfdl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qgakuydfdl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qgakuydfdl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qgakuydfdl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qgakuydfdl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qgakuydfdl .gt_spanner_row {
  border-bottom-style: hidden;
}

#qgakuydfdl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qgakuydfdl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qgakuydfdl .gt_from_md > :first-child {
  margin-top: 0;
}

#qgakuydfdl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qgakuydfdl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qgakuydfdl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qgakuydfdl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qgakuydfdl .gt_row_group_first td {
  border-top-width: 2px;
}

#qgakuydfdl .gt_row_group_first th {
  border-top-width: 2px;
}

#qgakuydfdl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qgakuydfdl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qgakuydfdl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qgakuydfdl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qgakuydfdl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qgakuydfdl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qgakuydfdl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qgakuydfdl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qgakuydfdl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qgakuydfdl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qgakuydfdl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qgakuydfdl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qgakuydfdl .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qgakuydfdl .gt_left {
  text-align: left;
}

#qgakuydfdl .gt_center {
  text-align: center;
}

#qgakuydfdl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qgakuydfdl .gt_font_normal {
  font-weight: normal;
}

#qgakuydfdl .gt_font_bold {
  font-weight: bold;
}

#qgakuydfdl .gt_font_italic {
  font-style: italic;
}

#qgakuydfdl .gt_super {
  font-size: 65%;
}

#qgakuydfdl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qgakuydfdl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qgakuydfdl .gt_indent_1 {
  text-indent: 5px;
}

#qgakuydfdl .gt_indent_2 {
  text-indent: 10px;
}

#qgakuydfdl .gt_indent_3 {
  text-indent: 15px;
}

#qgakuydfdl .gt_indent_4 {
  text-indent: 20px;
}

#qgakuydfdl .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>OR</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>OR</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">PPAGE</td>
<td headers="estimate" class="gt_row gt_center">1.00</td>
<td headers="ci" class="gt_row gt_center">1.00, 1.01</td>
<td headers="p.value" class="gt_row gt_center">0.066</td></tr>
    <tr><td headers="label" class="gt_row gt_left">LGBT</td>
<td headers="estimate" class="gt_row gt_center"><br></td>
<td headers="ci" class="gt_row gt_center"><br></td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">1.34</td>
<td headers="ci" class="gt_row gt_center">1.12, 1.62</td>
<td headers="p.value" class="gt_row gt_center">0.002</td></tr>
    <tr><td headers="label" class="gt_row gt_left">XACSNET</td>
<td headers="estimate" class="gt_row gt_center"><br></td>
<td headers="ci" class="gt_row gt_center"><br></td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">0.59</td>
<td headers="ci" class="gt_row gt_center">0.46, 0.74</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">PARTNER</td>
<td headers="estimate" class="gt_row gt_center"><br></td>
<td headers="ci" class="gt_row gt_center"><br></td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">2.10</td>
<td headers="ci" class="gt_row gt_center">1.75, 2.51</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">FAMSIZE</td>
<td headers="estimate" class="gt_row gt_center"><br></td>
<td headers="ci" class="gt_row gt_center"><br></td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2</td>
<td headers="estimate" class="gt_row gt_center">0.51</td>
<td headers="ci" class="gt_row gt_center">0.45, 0.59</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3</td>
<td headers="estimate" class="gt_row gt_center">0.73</td>
<td headers="ci" class="gt_row gt_center">0.61, 0.88</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;4</td>
<td headers="estimate" class="gt_row gt_center">0.69</td>
<td headers="ci" class="gt_row gt_center">0.56, 0.83</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;5</td>
<td headers="estimate" class="gt_row gt_center">0.91</td>
<td headers="ci" class="gt_row gt_center">0.69, 1.20</td>
<td headers="p.value" class="gt_row gt_center">0.5</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;6</td>
<td headers="estimate" class="gt_row gt_center">0.87</td>
<td headers="ci" class="gt_row gt_center">0.55, 1.38</td>
<td headers="p.value" class="gt_row gt_center">0.6</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;7</td>
<td headers="estimate" class="gt_row gt_center">0.84</td>
<td headers="ci" class="gt_row gt_center">0.40, 1.79</td>
<td headers="p.value" class="gt_row gt_center">0.7</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;8 or more</td>
<td headers="estimate" class="gt_row gt_center">2.04</td>
<td headers="ci" class="gt_row gt_center">0.84, 4.98</td>
<td headers="p.value" class="gt_row gt_center">0.12</td></tr>
    <tr><td headers="label" class="gt_row gt_left">INSURED</td>
<td headers="estimate" class="gt_row gt_center"><br></td>
<td headers="ci" class="gt_row gt_center"><br></td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">0.77</td>
<td headers="ci" class="gt_row gt_center">0.64, 0.91</td>
<td headers="p.value" class="gt_row gt_center">0.003</td></tr>
    <tr><td headers="label" class="gt_row gt_left">UNMETCARE_Y</td>
<td headers="estimate" class="gt_row gt_center"><br></td>
<td headers="ci" class="gt_row gt_center"><br></td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">5.11</td>
<td headers="ci" class="gt_row gt_center">4.49, 5.81</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">PPP20197</td>
<td headers="estimate" class="gt_row gt_center"><br></td>
<td headers="ci" class="gt_row gt_center"><br></td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">1.18</td>
<td headers="ci" class="gt_row gt_center">0.92, 1.51</td>
<td headers="p.value" class="gt_row gt_center">0.2</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Not asked</td>
<td headers="estimate" class="gt_row gt_center">1.90</td>
<td headers="ci" class="gt_row gt_center">1.61, 2.25</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">PPETHM</td>
<td headers="estimate" class="gt_row gt_center"><br></td>
<td headers="ci" class="gt_row gt_center"><br></td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;White, Non-Hispanic</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2+ Races, Non-Hispanic</td>
<td headers="estimate" class="gt_row gt_center">1.88</td>
<td headers="ci" class="gt_row gt_center">1.40, 2.52</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Black, Non-Hispanic</td>
<td headers="estimate" class="gt_row gt_center">1.62</td>
<td headers="ci" class="gt_row gt_center">1.38, 1.91</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Hispanic</td>
<td headers="estimate" class="gt_row gt_center">1.77</td>
<td headers="ci" class="gt_row gt_center">1.52, 2.05</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Other, Non-Hispanic</td>
<td headers="estimate" class="gt_row gt_center">0.59</td>
<td headers="ci" class="gt_row gt_center">0.45, 0.75</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tble_regression will automatically pool them!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
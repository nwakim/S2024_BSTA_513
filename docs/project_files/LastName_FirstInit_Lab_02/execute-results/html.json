{
  "hash": "1d8a288542534f78d245d01008ec43c7",
  "result": {
    "markdown": "---\ntitle: \"Lab 2\"\nauthor: \"Your name here!!!\"\nsubtitle: \"BSTA 513/613\"\ndescription: \"Due: May 2, 2024 at 11pm\"\ndate-modified: \"today\"\ncategories: [\"\"]\nformat: \n  html:\n    link-external-newwindow: true\n    toc: true\n    self-contained: true\n    embed-resources: true\n    number-sections: true\n    number-depth: 4\neditor_options: \n  chunk_output_type: console\nexecute:\n  freeze: auto  # re-render only when source changes\n---\n\n\n## Directions\n\nThis is your **editing** file. **Please do not remove anything from this editing file!!** You will only add your code and work to this file.\n\n### Purpose\n\nThe purpose of this lab is to explore our data further, set up the unadjusted odds ratio, and create code to later help us present our final model.\n\n### Grading\n\n**This lab is graded out of 12 points.** The TAs will go through and grade your lab. They will make sure each section is complete and will follow the rubric below. I have instructed them that completion and clear effort is all that is needed to receive 100%. Nicky will go through the labs to give you feedback.\n\n## Lab activities\n\n::: callout-note\nI have left it up to you to load the needed packages for this lab.\n:::\n\n### Restate research question\n\n::: callout-important\n#### Task\n\nPlease restate your research question below using the provided format (1 sentence). You can change the wording if you'd like, but please make sure it is still clear. Itâ€™s repetitive, but it helps me contextualize my feedback as I look through your lab.\n:::\n\nIn this study, we will investigate the association between food insecurity and ________. \n\n\n### Make sure variables are coded correctly\n\nUse `class()` to determine the class of each of the 11 variables you selected from Lab 1 (including the outcome). A tidyverse equivalent to the `apply()` function that we learned last quarter is `map()`. [Please take a look at the description](https://purrr.tidyverse.org/reference/map.html) of the `map()` function. \n\nMake sure the class that `R` recognizes is the class that you expect the variable to be. Categorical variables should be factors amd numeric variables should be numeric. **It is very important that your outcome, food insecurity, is a factor with the reference level set to \"No.\"** For example, if I am using age, but the class is character, I will need to convert age to a numeric variable. If I have a categorical covariate that is recognized as a character, I should convert it to a factor with a specific reference level. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_name %>% map(class)\n```\n:::\n\n\n::: callout-important\n#### Task\n\n-   Use `class()` to determine the class of each of the 11 variables you selected from Lab 1 (including the outcome).\n-   Change the variable type to the appropriate type.\n:::\n\n### Consider potential confounders and effect modifiers\n\nFor each of the 10 predictor variables, fill out the below table. Determine whether you think each variable will be a confounder, effect modifier, or nothing in relation to your main variable and food insecurity. This does not need to be extensive reasoning. If you would like to present this information in another way, you may. \n\n::: callout-important\n#### Task\n\nFill in the below table (or any other way you wish to present the same information).\n:::\n\n\n| Variable name | Confounder, Effect modifier, or nothing? | Reasoning (1-2 sentences) |\n|-----------------|-----------------------------|-----------------------------|\n|               |                                          |                           |\n|               |                                          |                           |\n|               |                                          |                           |\n|               |                                          |                           |\n|               |                                          |                           |\n|               |                                          |                           |\n|               |                                          |                           |\n|               |                                          |                           |\n|               |                                          |                           |\n|               |                                          |                           |\n\n### Create contingency tables for categorical predictors\n\nFor each categorical covariate, create a contingency table between it and food insecurity. You can create a data frame with only categorical covariattes, then use `lapply()` to make a table for each column. Take note of any cells that have less than 10 observations. **No need to make these tables pretty.**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# You need to replace df_cat_only with your data frame that \n#     only has categorical predictors\nlapply(df_cat_only, function(x) table(df_cat_only$FOOD_INSEC, x))\n```\n:::\n\n\n::: callout-important\n#### Task\n-   Create contingency tables for all categorical covariates with food insecurity.\n-   Take note of any cell counts that are less than 10\n:::\n\n### Bivariate exploratory data analysis\n\nUse `ggpairs()` ([introduced in BSTA 512 Lesson 13](https://nwakim.github.io/W2024_BSTA_512/slides/13_Purposeful_Selection.html#/pre-step-step-1-explore-simple-relationships-and-assumptions)) to quickly look at the relationship between variables. If you have trouble seeing or interpreting the individual plots, try recreating them in `ggplot()`.\n\n::: callout-important\n#### Task\n\n-   Use `ggpairs()` ([introduced in BSTA 512 Lesson 13](https://nwakim.github.io/W2024_BSTA_512/slides/13_Purposeful_Selection.html#/pre-step-step-1-explore-simple-relationships-and-assumptions)) to quickly look at the relationship between variables.\n-   List predictors with which there is a clear trend with food insecurity.\n:::\n\n\n### Fit simple logistic regression\n\n::: callout-important\n#### Task\n-   Using `glm()`, run a logistic regression with food insecurity and your main variable of interest. \n-   Display the unadjusted odds ratio of the regression. You can use `logistic.display()`\n-   Interpret the unadjusted odds ratio (with 95% confidence interval). If you're main variable is multi-level, then you will need to interpret multiple odds ratios.\n:::\n\n### Plot the predicted probability\n\nI want us to plot the predicted probability across our main independent variable. If your main variable of interest (from your research question) is continuous, then you can follow the code from Lesson 7 to construct a plot of the predicted probability. If your main variable of interest in categorical, then you can try plotting the predicted probability in the same way as Lesson 7. You may prefer to present the predicted probabilities for each group as a table. \n\nThis plot will serve as a good foundation if we have any interactions in the model!\n\n::: callout-important\n#### Task\n\nPlot or make a table of your predicted probabilities.\n:::\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
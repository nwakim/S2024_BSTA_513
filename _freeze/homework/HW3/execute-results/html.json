{
  "hash": "5e40c7ee969fde352c6f46107222f1d4",
  "result": {
    "markdown": "---\ntitle: \"Homework 3\"\nsubtitle: \"BSTA 513/613\"\nauthor: \"Your name here - update this!!!!\"\ndescription: \"Due: Thursday May 9, 2024 at 11pm\"\ndate-modified: \"4/1/2024\"\ndate: \"5/9/2024\"\nformat: \n  html:\n    link-external-newwindow: true\n    toc: true\n    self-contained: true\n  pdf: default \neditor_options: \n  chunk_output_type: console\n---\n\n\n::: callout-important\nNote to Nicky: Need to include interactions!!\nquestions pulled from old HW4\n:::\n\n\n\n\n\n## Directions\n\n-   [Download the `.qmd` file here.](https://github.com/nwakim/S2024_BSTA_513/blob/main/homework/HW3.qmd)\n\n-   You will need to download the datasets. Use [this link to download](https://ohsuitg-my.sharepoint.com/:f:/r/personal/wakim_ohsu_edu/Documents/Teaching/Classes/S2024_BSTA_513_613/Student_files/Data/Homework?csf=1&web=1&e=QEsqb9) the homework datasets needed in this assignment. If you do not want to make changes to the paths set in this document, then make sure the files are stored in a folder named \"data\" that is housed in the same location as this homework `.qmd` file.\n\n-   Please upload your homework to [Sakai](https://sakai.ohsu.edu/portal/site/BSTA-512-1-AB-W24/tool/961ec5ef-d7f9-4518-be16-25f7af3d6be4). **Upload both your `.qmd` code file and the rendered `.html` file**\n\n    -   **Please rename you homework as `Lastname_Firstinitial_HW0.qmd`. This will help organize the homeworks when the TAs grade them.**\n\n    -   **Please also add the following line under `subtitle: \"BSTA 512/612\"`: `author: First-name Last-name` with your first and last name so it is attached to the viewable document.**\n\n-   For each question, make sure to include all code and resulting output in the html file to support your answers.\n\n-   Show the work of your calculations using R code within a code chunk. Make sure that both your code and output are visible in the rendered html file. This is the default setting.\n\n-   If you are computing something by hand, you may take a picture of your work and insert the image in this file. You may also use LaTeX to write it inline.\n\n-   Write all answers in complete sentences as if communicating the results to a collaborator. This means including a sentence summarizing results in the context of the research study.\n\n::: callout-tip\nIt is a good idea to try rendering your document from time to time as you go along! Note that rendering automatically saves your qmd file and rendering frequently helps you catch your errors more quickly.\n:::\n\n## Questions\n\n### Question 1\n\nThis question is adapted from the Hosmer and Lemeshow textbook. Use the ICU data described in Section 1.6.1 (pg. 22 of textbook) and consider the multiple logistic regression model of vital status, STA, on age (AGE), cancer part of the present problem (CAN), CPR prior to ICU admission (CPR), infection probable at ICU admission (INF), and race (RACE).\n\n### Part a\n\nFrom the above list (AGE, CAN, CPR, INF, and RACE) of independent variables, identify if each is a continuous, binary, or multi-group (\\>2) categorical variable.\n\n### Part b\n\nFor the binary and multi-group categorical variables, please identify the reference groups for each. Include justification for the reference group. (You may need to go to the textbook, pg. 23, to see what each variable is.)\n\n### Part c\n\nWrite down the equation for the logistic regression model of STA on AGE, CAN, CPR, INF, and RACE. How many parameters does this model contain?\n\n### Part d\n\nFor the categorical variables (binary and multi-group), please mutate the variables within the ICU dataset to set your chosen reference groups. Do the same for the outcome variable. (Right now these variables are coded as text, not factors, so we first need to make them factors, then assign them levels. For STA, you may do the same coding from Homework 3. Hint: look into function `factor()` in the pre-loaded `base` package.)\n\n### Part e\n\nUsing `glm()`, obtain the maximum likelihood estimates of the parameters of the logistic regression model in Part c. Using these estimates write down the equation for the fitted values (i.e., the estimated logistic probabilities).\n\n### Part f\n\nAssess the significance of the group of coefficients for all variables in the model using the likelihood ratio test. (Hint: part of the ratio in the LRT will be an intercept only model) What is the value of the deviance for the fitted model?\n\n### Part g\n\nFit a new model using only AGE and CPR as the predictors. Write a sentence interpreting the odds ratio for both variables. Please include the 95% confidence interval.\n\n### Part h\n\nFor age, compute 95% confidence intervals for a the estimated odds ratio for a 10 year increase. Write a sentence interpreting the odds ratio for the 10-year increase.\n\n### Part i\n\nCompute the predicted probability for a subject who is 63 years old and did not receive CPR before being admitted to the ICU. Compute the 95% confidence interval for the predicted probability and interpret the predicted probability.\n\n## Question 2\n\nThis question is adapted from the Hosmer and Lemeshow textbook, page 47. (Note that the parts are sited differently in the textbook.)\n\nUse the Myopia Study data described in Section 1.6.6 and use MYOPIC as the outcome and as possible variables for a model: AGE, GENDER, family history of myopia (MOMMY and DADMY), number of hours playing sports (SPORTHR) and number of hours watching television (TVHR).\n\n### Part a\n\nWrite down the equation for the logistic regression model of MYOPIC on AGE, GENDER, MOMMY, DADMY, SPORTHR, and TVHR. How many parameters does this model contain?\n\n### Part b\n\nUsing `glm()`, obtain the maximum likelihood estimates of the parameters of the logistic regression model. Using these estimates write down the equation for the fitted values (i.e., the estimated logistic probabilities).\n\n### Part c\n\nAssess the significance of the coefficient corresponding to number of hours playing sports. You may use the Wald test or the likelihood ratio test. Please interpret the odds ratio for the coefficient (in this part, you do not need to calculate the confidence interval.)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
{
  "hash": "62b0d05927819f087a16416007b6de4d",
  "result": {
    "markdown": "---\ntitle: \"Homework 4\"\nsubtitle: \"BSTA 512/612\"\ndescription: \"Due: Thursday February 22, 2024 at 11pm\"\ndate-modified: \"12/22/2023\"\ndate: \"2/22/2024\"\ncategories: [\"\"]\nformat: \n  html:\n    link-external-newwindow: true\n    toc: true\n    self-contained: true\n  pdf: default \neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n::: callout-important\n**THIS PAGE IS UNDER CONSTRUCTION!!**\n:::\n\n## Directions\n\n-   Please upload your homework to Sakai. **Upload both your .Rmd code file and the knitted .html file**.\n\n-   For each question, make sure to include all code and resulting output in the html file to support your answers.\n\n-   Show the work of your calculations using R code within a code chunk. Make sure that both your code and output are visible in the knitted html file.\n\n-   Write all answers in complete sentences as if communicating the results to a collaborator.\n\n    -   Points (usually 0.5-1) will be deducted for not including a sentence summarizing results in the context of the research study.\n    -   Questions not requiring a sentence are: *none - include a summary for all questions*\n\n> Tip: It is a good idea to try kitting your document from time to time as you go along! Note that knitting automatically saves your Rmd file and knitting frequently helps you catch your errors more quickly.\n\n# Regression with one categorical predictor (Prequel to Ch 11 & 12)\n\n## Penguins: Flipper length vs. species\n\nFor this problem we will be using the `penguins` dataset from the `palmerpenguins` R package.\n\nDescription from help file:\n\n> Includes measurements for penguin species, island in Palmer Archipelago, size (flipper length, body mass, bill dimensions), and sex.\n\nMore info about the data are at https://allisonhorst.github.io/palmerpenguins/.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# first install the palmerpenguins package\n# install.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\ndata(penguins)\n\n# run the command below to learn more about the variables in the penguins dataset\n# ?penguins\n```\n:::\n\n\n### (1) Outcome averages stratified by category levels\n\n<font color=\"green\">Calculate the average flipper lengths stratified by each of the penguin species.</font>\n\n### (2) Visualize the \"regression\"\n\n<font color=\"green\">Make a scatterplot of flipper lengths by species, and include diamond-shape points for the averages of the flipper lengths for each of the species.</font>\n\n### (3) Regression equations\n\nBefore running the regression in R, we are going to find the regression equation\"manually.\"\n\n<font color=\"green\">Write out the regression equation using LaTeX math markup (see class notes) that models the flipper length by penguin species. Do not yet insert values for the regression coefficients, i.e. us the generic coefficients</font> $\\widehat{\\beta}_0, \\widehat{\\beta}_1,$ <font color=\"green\">etc. Use Adelie as the reference level.</font>\n\n### (4) Interpret coefficients\n\n<font color=\"green\">How do we interpret each of the regression coefficients for this model?</font> *Write out a separate interpretation for each of the coefficients.*\n\n### (5) Regression coefficients \"manually\"\n\n<font color=\"green\">\"Manually\" calculate the values for each of the coefficients, and update the regression model with the values inserted.</font>\\\n*You must show your work for this. Do not run the linear model in this step to get the values.*\n\n### (6) Regression table with `lm()` function\n\n<font color=\"green\">Run the linear regression of flipper lengths vs. species in R, and display the regression table output. Which species did R choose as the reference level, and how did you determine this?</font>\n\n### (7) Mean calculation using regression output\n\n<font color=\"green\">Calculate the mean flipper length of penguins in the Chinstrap and Gentoo species using *only* the results from the regression table.</font> *You must show your work.*\n\n# ----------------------------------\n\n# Recommended extra problems do not turn in (will be not graded)\n\nBelow are some problems I *highly* recommend working on. They will not be graded and you do not need to turn them in.\n\n## Problem 9.7 (c)\n\n<font color=\"green\">Do this problem after completing 9.7 (b) above</font>\n\n> Provide variables-added-in-order tests for the order $X_3, X_1$, and $X_2$.\n\n<font color=\"green\">This means that there are 3 tests: (1) test model with just $X_3$, (2) test adding $X_1$ to the model given that $X_3$ is already in the model, and (3) test adding $X_2$ to the model given that $X_3, X_1$ are already in the model. See the subsections below to divide up the work.</font>\n\n### Test model with just $X_3$\n\n### Adding $X_1$ to the model given that $X_3$ is already in the model\n\n### Adding $X_2$ to the model given that $X_3, X_1$ are already in the model\n\n## Chapter 10 (c) using the formula\n\nDo this after completing Chapter 10 (c) above.\n\n<font color=\"green\">Calculate $r_{YX1|X2}$ using the formula and check that your answer matches that of Chapter 10 (c) above.</font>\n\n## Regression with one categorical predictor (Prequel to Ch 11 & 12): Change the reference level to Gentoo\n\nAfter completing exercises (1) - (7) in the section *Regression with one categorical predictor (Prequel to Ch 11 & 12)*, do the problems below.\n\n### (8)\n\n<font color=\"green\">Write out the regression equation using LaTeX math markup (see class notes) that models the flipper length by penguin species. Do not yet insert values for the regression coefficients, i.e. us the generic coefficients</font> $\\widehat{\\beta}_0, \\widehat{\\beta}_1,$ <font color=\"green\">etc. Use Gentoo as the reference level.</font>\n\n### (9)\n\n<font color=\"green\">How do we interpret each of the regression coefficients for this model?</font> *Write out a separate interpretation for each of the coefficients.*\n\n### (10)\n\n<font color=\"green\">\"Manually\" calculate the values for each of the coefficients, and update the regression model with the values inserted.</font> *You must show your work for this. Do not run the linear model in this step to get the values.*\n\n\n# Chapter 11 & 12 (questions NOT from book)\n\n## Question 1\n\n<font color=\"green\">Use the data from Chapter 12 Problem 3 to answer the questions below.</font>\n\n### a)\n\n**a. How many dummy variable(s) do you need to create for the categorical variable Diet (protein-rich vs. protein-poor)? Create the dummy variable(s) with the reference cell coding approach{0,1}.**\n\n### b)\n\n**b. At a level of significance alpha = .05, test whether if Age is significantly associated with Height. Would this association be modified depending on diet group (e.g., rich-protein or poor-protein)? In other words, is Diet an effect-modifier that changes the association between Height and Age? Justify your answer (e.g., perform a hypothesis test at a level of alpha =.1).**\n\n*Note: recall that an effect modifier is an interaction.*\n\n### c)\n\n**c. From the results obtained in part b, should we perform an assessment of a confounder for Diet? Justify your answer. Perform such an assessment if needed.**\n\n### d)\n\n**d. Perform a regression analysis on the model obtained from the results obtained from parts a- c. Write down a general regression equation that is applicable to both groups—rich-protein vs.poor-protein. Write down regression lines for each specific groups—rich-protein or poor-protein.**\n\n## Question 2\n\n<font color=\"green\">Use the data from Chapter 9 Problem 5 to answer the questions below.</font>\n\n### a)\n\n**a. Use** $\\alpha= 0.05$, test whether the (crude) association between Y and X1 could be established.\n\n### b)\n\n**b. Use**$\\alpha= 0.1$, test whether X3 is an effect modifier of the association between Y and X1.\n\n**Note: To identify effect modifiers, we perform a hypothesis test of interaction term, e.g.,X1*X3. That is: The full model includes X1, X3, X1*X3. the reduced model includes X1 and X3**\n\n### c)\n\n**c. From the result obtained in part b, do we need to perform an assessment of a confounder for X3? Justify your answer. Perform such an assessment if needed.**\n\n### d)\n\n**d. Perform an assessment of a confounder for X2 which potentially changes the association between Y and X1.**\n\n### e)\n\n**e. From the results in parts a-d, what is your final association model?**\n\n# Chapter 15: Polynomial Regression (questions NOT from book)\n\n<font color=\"green\">Use the data from Chapter 5 Problem 18 to answer the questions below.</font>\n\n## a)\n\n**a. Obtain scatter plot: Y vs. X. Does linear trend support the relationship between Y and X?**\n\n## b)\n\n**b. At the level alpha =.05, test whether the linear relationship could be established between Y and X.**\n\n## c)\n\n**c. At the level alpha =.05, test whether the quadratic term (**$X^2$) should be included in the model to improve the prediction in Y, given the linear term ($X$) is already in the model.\n\n## d)\n\n**d. From the result obtained from part c, should we test if the linear term (X) is necessary to be included in the model, given the quadratic term is already in the model? Explain your answer.**\n\n## e)\n\n**e. From the results you obtain from parts c-d, should we further examine whether cubic term (**$X^3$) or fourth polynomial degree (i.e., $X^4$) to improve the prediction in Y? Explain your answer and report the result of such a test if needed.\n\n## f)\n\n**f. From parts a – e, what is the final model that you have obtained? Interpret the R-square result from this model in the context of the study. Plot fitted value curve vs. X overlaid with scatter plot. Comments about the fitting model.**\n",
    "supporting": [
      "HW4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
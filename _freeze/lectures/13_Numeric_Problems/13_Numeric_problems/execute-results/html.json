{
  "hash": "6b7a8b36d46f173c14aa922c8c9fce16",
  "result": {
    "markdown": "---\ntitle: \"Lesson 13: Numerical Problems\"\nauthor: \"Nicky Wakim\"\ntitle-slide-attributes:\n    data-background-color: \"#C2352F\"\ndate: \"05/15/2024\"\nformat: \n  revealjs:\n    theme: \"../simple_NW.scss\"\n    chalkboard: true\n    slide-number: true\n    show-slide-number: all\n    width: 1955\n    height: 1100\n    footer: \"Lesson 13: Numerical Problems\"\n    html-math-method: mathjax\n    highlight-style: ayu\nexecute:\n  echo: true\n  freeze: auto  # re-render only when source changes\neditor_options: \n  chunk_output_type: console\n---\n\n::: {.cell}\n\n:::\n\n\n# Learning Objectives\n\n1. Identify and troubleshoot logistic regression analysis when there are low or zero observations for the cross section of the outcome and a predictor\n\n\n2. Identify and troubleshoot logistic regression analysis when there is complete separation between the two outcome groups\n\n\n3. Identify and troubleshoot logistic regression analysis when there is multicollinearity between variables\n\n\n\n::: {.cell}\n<style type=\"text/css\">\n.reveal code {\n  max-height: 80% !important;\n}\n</style>\n:::\n\n\n## Three Numerical Problems\n\n-   Issues that may cause numerical problems:\n\n     \n\n    1.    Zero cell count\n    \n     \n    \n    2.    Complete separation \n    \n     \n    \n    3.    Multicollinearity\n\n\n \n\n-   All may cause large estimated coefficients and/or large estimated standard errors\n\n# Learning Objectives\n\n::: lob\n1. Identify and troubleshoot logistic regression analysis when there are low or zero observations for the cross section of the outcome and a predictor\n:::\n\n2. Identify and troubleshoot logistic regression analysis when there is complete separation between the two outcome groups\n\n\n3. Identify and troubleshoot logistic regression analysis when there is multicollinearity between variables\n\n## Zero cell count in a contingency table\n\n-   If no observations at any intersection of the covariate and outcome \n\n \n\n-   Zero cell in a contingency table should be detected in descriptive statistical analysis stage\n\n \n\n-   Example of one covariate with outcome: \n\n \n\n![](images/zero_cell_ex.png){fig-align=\"center\"}\n\n \n\n\n::: {.cell}\n\n:::\n\n\n## Zero cell count: example (1/3)\n\n::: columns\n::: {.column width=\"73%\"}\n- Example of logistic regression with **one** covariate:\n\n::: {.cell}\n\n```{.r .cell-code}\nex1_m = glm(outcome ~ x, data = ex1, \n              family = binomial)\n```\n:::\n\n:::\n\n::: {.column width=\"10%\"}\n![](images/zero_cell_ex_small.png){.absolute top=35 right=5 width=\"530\"}\n:::\n:::\n::: columns\n::: {.column width=\"50%\"}\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n:::\n\n:::\n\n## Zero cell count: example (2/3)\n\n::: columns\n::: {.column width=\"73%\"}\n- Example of logistic regression with **one** covariate:\n\n::: {.cell}\n\n```{.r .cell-code}\nex1_m = glm(outcome ~ x, data = ex1, \n              family = binomial())\n```\n:::\n\n:::\n\n::: {.column width=\"10%\"}\n![](images/zero_cell_ex_small.png){.absolute top=35 right=5 width=\"530\"}\n:::\n:::\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Coefficient estimates\"}\ntidy(ex1_m, conf.int=T) %>% gt() %>% \n  tab_options(table.font.size = 32) %>%\n  fmt_number(decimals = 2)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"vnrmdrjeex\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#vnrmdrjeex table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#vnrmdrjeex thead, #vnrmdrjeex tbody, #vnrmdrjeex tfoot, #vnrmdrjeex tr, #vnrmdrjeex td, #vnrmdrjeex th {\n  border-style: none;\n}\n\n#vnrmdrjeex p {\n  margin: 0;\n  padding: 0;\n}\n\n#vnrmdrjeex .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 32px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vnrmdrjeex .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vnrmdrjeex .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vnrmdrjeex .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vnrmdrjeex .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vnrmdrjeex .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vnrmdrjeex .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vnrmdrjeex .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vnrmdrjeex .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#vnrmdrjeex .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vnrmdrjeex .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vnrmdrjeex .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vnrmdrjeex .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vnrmdrjeex .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vnrmdrjeex .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vnrmdrjeex .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vnrmdrjeex .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vnrmdrjeex .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#vnrmdrjeex .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vnrmdrjeex .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vnrmdrjeex .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vnrmdrjeex .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vnrmdrjeex .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vnrmdrjeex .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vnrmdrjeex .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vnrmdrjeex .gt_left {\n  text-align: left;\n}\n\n#vnrmdrjeex .gt_center {\n  text-align: center;\n}\n\n#vnrmdrjeex .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vnrmdrjeex .gt_font_normal {\n  font-weight: normal;\n}\n\n#vnrmdrjeex .gt_font_bold {\n  font-weight: bold;\n}\n\n#vnrmdrjeex .gt_font_italic {\n  font-style: italic;\n}\n\n#vnrmdrjeex .gt_super {\n  font-size: 65%;\n}\n\n#vnrmdrjeex .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#vnrmdrjeex .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vnrmdrjeex .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vnrmdrjeex .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vnrmdrjeex .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vnrmdrjeex .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vnrmdrjeex .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\">estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"std.error\">std.error</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\">conf.low</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.high\">conf.high</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">−0.62</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">0.47</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">−1.32</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.19</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−1.60</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">0.27</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">xTwo</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">1.02</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">0.65</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">1.57</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.12</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−0.23</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">2.35</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">xThree</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">20.19</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">2,404.67</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">0.01</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.99</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−119.00</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">NA</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Odds ratio\"}\ntbl_regression(ex1_m, exponentiate=T) %>%\n  as_gt() %>% # allows us to use tab_options()\n  tab_options(table.font.size = 38)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"oyfjqeluxc\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#oyfjqeluxc table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#oyfjqeluxc thead, #oyfjqeluxc tbody, #oyfjqeluxc tfoot, #oyfjqeluxc tr, #oyfjqeluxc td, #oyfjqeluxc th {\n  border-style: none;\n}\n\n#oyfjqeluxc p {\n  margin: 0;\n  padding: 0;\n}\n\n#oyfjqeluxc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 38px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#oyfjqeluxc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#oyfjqeluxc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#oyfjqeluxc .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#oyfjqeluxc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#oyfjqeluxc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#oyfjqeluxc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#oyfjqeluxc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#oyfjqeluxc .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#oyfjqeluxc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#oyfjqeluxc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#oyfjqeluxc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#oyfjqeluxc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#oyfjqeluxc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#oyfjqeluxc .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyfjqeluxc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#oyfjqeluxc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#oyfjqeluxc .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#oyfjqeluxc .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyfjqeluxc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#oyfjqeluxc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyfjqeluxc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#oyfjqeluxc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyfjqeluxc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oyfjqeluxc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyfjqeluxc .gt_left {\n  text-align: left;\n}\n\n#oyfjqeluxc .gt_center {\n  text-align: center;\n}\n\n#oyfjqeluxc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#oyfjqeluxc .gt_font_normal {\n  font-weight: normal;\n}\n\n#oyfjqeluxc .gt_font_bold {\n  font-weight: bold;\n}\n\n#oyfjqeluxc .gt_font_italic {\n  font-style: italic;\n}\n\n#oyfjqeluxc .gt_super {\n  font-size: 65%;\n}\n\n#oyfjqeluxc .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#oyfjqeluxc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#oyfjqeluxc .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#oyfjqeluxc .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#oyfjqeluxc .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#oyfjqeluxc .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#oyfjqeluxc .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;OR&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>OR</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;95% CI&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>95% CI</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;\"><strong>p-value</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">x</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"ci\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    One</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Two</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">2.79</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">0.79, 10.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.12</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Three</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">583,822,601</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">0.00, NA</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">>0.9</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n:::\n\n:::\n\n## Zero cell count: example (3/3)\n\n::: columns\n::: {.column width=\"73%\"}\n- Example of logistic regression with **one** covariate:\n\n::: {.cell}\n\n```{.r .cell-code}\nex1_m = glm(outcome ~ x, data = ex1, \n              family = binomial())\n```\n:::\n\n:::\n\n::: {.column width=\"10%\"}\n![](images/zero_cell_ex_small.png){.absolute top=35 right=5 width=\"530\"}\n:::\n:::\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Coefficient estimates\"}\ntidy(ex1_m, conf.int=T) %>% gt() %>% \n  tab_options(table.font.size = 32) %>%\n  fmt_number(decimals = 2)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"dtqlcevgcu\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#dtqlcevgcu table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#dtqlcevgcu thead, #dtqlcevgcu tbody, #dtqlcevgcu tfoot, #dtqlcevgcu tr, #dtqlcevgcu td, #dtqlcevgcu th {\n  border-style: none;\n}\n\n#dtqlcevgcu p {\n  margin: 0;\n  padding: 0;\n}\n\n#dtqlcevgcu .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 32px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#dtqlcevgcu .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#dtqlcevgcu .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#dtqlcevgcu .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#dtqlcevgcu .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#dtqlcevgcu .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#dtqlcevgcu .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#dtqlcevgcu .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#dtqlcevgcu .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#dtqlcevgcu .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#dtqlcevgcu .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dtqlcevgcu .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#dtqlcevgcu .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#dtqlcevgcu .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#dtqlcevgcu .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dtqlcevgcu .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#dtqlcevgcu .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#dtqlcevgcu .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#dtqlcevgcu .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dtqlcevgcu .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#dtqlcevgcu .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dtqlcevgcu .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#dtqlcevgcu .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dtqlcevgcu .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dtqlcevgcu .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dtqlcevgcu .gt_left {\n  text-align: left;\n}\n\n#dtqlcevgcu .gt_center {\n  text-align: center;\n}\n\n#dtqlcevgcu .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#dtqlcevgcu .gt_font_normal {\n  font-weight: normal;\n}\n\n#dtqlcevgcu .gt_font_bold {\n  font-weight: bold;\n}\n\n#dtqlcevgcu .gt_font_italic {\n  font-style: italic;\n}\n\n#dtqlcevgcu .gt_super {\n  font-size: 65%;\n}\n\n#dtqlcevgcu .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#dtqlcevgcu .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#dtqlcevgcu .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#dtqlcevgcu .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#dtqlcevgcu .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#dtqlcevgcu .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#dtqlcevgcu .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\">estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"std.error\">std.error</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\">conf.low</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.high\">conf.high</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">−0.62</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">0.47</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">−1.32</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.19</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−1.60</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">0.27</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">xTwo</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">1.02</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">0.65</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">1.57</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.12</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−0.23</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">2.35</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">xThree</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">20.19</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">2,404.67</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">0.01</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.99</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−119.00</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">NA</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n \n\n::: box2\nCoefficient estimate is large and standard error is large!  Estimated odds ratio is very large and confidence interval cannot be computed.\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Odds ratio\"}\ntbl_regression(ex1_m, exponentiate=T) %>%\n  as_gt() %>% # allows us to use tab_options()\n  tab_options(table.font.size = 38)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"aapanibiig\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#aapanibiig table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#aapanibiig thead, #aapanibiig tbody, #aapanibiig tfoot, #aapanibiig tr, #aapanibiig td, #aapanibiig th {\n  border-style: none;\n}\n\n#aapanibiig p {\n  margin: 0;\n  padding: 0;\n}\n\n#aapanibiig .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 38px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#aapanibiig .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#aapanibiig .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#aapanibiig .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#aapanibiig .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#aapanibiig .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aapanibiig .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#aapanibiig .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#aapanibiig .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#aapanibiig .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#aapanibiig .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#aapanibiig .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#aapanibiig .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#aapanibiig .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#aapanibiig .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#aapanibiig .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#aapanibiig .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#aapanibiig .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#aapanibiig .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aapanibiig .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#aapanibiig .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#aapanibiig .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#aapanibiig .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aapanibiig .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#aapanibiig .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#aapanibiig .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aapanibiig .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aapanibiig .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#aapanibiig .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aapanibiig .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#aapanibiig .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aapanibiig .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#aapanibiig .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aapanibiig .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#aapanibiig .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aapanibiig .gt_left {\n  text-align: left;\n}\n\n#aapanibiig .gt_center {\n  text-align: center;\n}\n\n#aapanibiig .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#aapanibiig .gt_font_normal {\n  font-weight: normal;\n}\n\n#aapanibiig .gt_font_bold {\n  font-weight: bold;\n}\n\n#aapanibiig .gt_font_italic {\n  font-style: italic;\n}\n\n#aapanibiig .gt_super {\n  font-size: 65%;\n}\n\n#aapanibiig .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#aapanibiig .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#aapanibiig .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#aapanibiig .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#aapanibiig .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#aapanibiig .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#aapanibiig .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;OR&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>OR</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;95% CI&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>95% CI</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;\"><strong>p-value</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">x</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"ci\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    One</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Two</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">2.79</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">0.79, 10.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.12</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Three</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">583,822,601</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">0.00, NA</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">>0.9</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n:::\n\n:::\n\n## Ways to address zero cell\n\n-   Add one-half to each of the cell counts\n\n    -   Technically works, but not the best option\n    -   Rarely useful with a more complex analysis: may work for simple logistic regression\n    -   Nicky would say worst option because manipulating the data that does not work on individual level\n\n-   Collapse the categories to remove the 0 cells\n\n    -   We could collapse groups 2 and 3 together if it makes clinical sense\n    -   Good idea if this makes clinical sense OR there is no difference between groups\n\n-   Remove the category with 0 cells\n\n    -   This would mean we reduce the total sample size as well\n    -   Not a good idea: we would remove people from our dataset. Why would we do that?\n\n-   If the variable is in ordinal scale, treat it as continuous\n\n    -   Good idea if you have seen evidence that there is a linear trend on log-odds scale\n\n## Decide on how to address zero cell (1/2)\n\n-   Look at the proportions across the predictor, X: \n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = ex1, aes(x = x, fill = outcome)) + \n      geom_bar(stat = \"count\", position = \"fill\") +\n      labs(y = \"Proportion of Outcome\")\n```\n:::\n\n\n::: columns\n::: column\n\n::: {.cell}\n::: {.cell-output-display}\n![](13_Numeric_problems_files/figure-revealjs/unnamed-chunk-12-1.png){width=100%}\n:::\n:::\n\n:::\n::: column\n \n\n:::\n:::\n\n## Decide on how to address zero cell (2/2)\n\n-   Look at the proportions across the predictor, X: \n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = ex1, aes(x = x, fill = outcome)) + \n      geom_bar(stat = \"count\", position = \"fill\") +\n      labs(y = \"Proportion of Outcome\")\n```\n:::\n\n\n::: columns\n::: column\n\n::: {.cell}\n::: {.cell-output-display}\n![](13_Numeric_problems_files/figure-revealjs/unnamed-chunk-14-1.png){width=100%}\n:::\n:::\n\n:::\n::: column\n \n\n::: box2\n- Combining groups 2 and 3 together *may not be a good idea*. \n- **Their proportions of the outcome do not look similar.** \n- The predictor has an *ordinal quality*, so this is making me think a *continuous approach might be good*.\n:::\n:::\n:::\n\n## Collapse the categories of predictor\n\nCombine groups 2 and 3:\n\n::: {.cell}\n\n```{.r .cell-code}\nex1_23 = ex1 %>% \n            mutate(x = factor(x, levels = c(\"One\", \"Two\", \"Three\"), \n                                 labels = c(\"One\", \"Two-Three\", \"Two-Three\")))\nex1_23_glm = glm(outcome ~ x, data = ex1_23, family = binomial)\ntbl_regression(ex1_23_glm, exponentiate=T) %>% as_gt() %>% \n  tab_options(table.font.size = 38)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"pxgpbsahxu\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#pxgpbsahxu table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pxgpbsahxu thead, #pxgpbsahxu tbody, #pxgpbsahxu tfoot, #pxgpbsahxu tr, #pxgpbsahxu td, #pxgpbsahxu th {\n  border-style: none;\n}\n\n#pxgpbsahxu p {\n  margin: 0;\n  padding: 0;\n}\n\n#pxgpbsahxu .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 38px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pxgpbsahxu .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pxgpbsahxu .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pxgpbsahxu .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pxgpbsahxu .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pxgpbsahxu .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pxgpbsahxu .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pxgpbsahxu .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pxgpbsahxu .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pxgpbsahxu .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pxgpbsahxu .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pxgpbsahxu .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pxgpbsahxu .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pxgpbsahxu .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pxgpbsahxu .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pxgpbsahxu .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pxgpbsahxu .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pxgpbsahxu .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pxgpbsahxu .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pxgpbsahxu .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pxgpbsahxu .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pxgpbsahxu .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pxgpbsahxu .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pxgpbsahxu .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pxgpbsahxu .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pxgpbsahxu .gt_left {\n  text-align: left;\n}\n\n#pxgpbsahxu .gt_center {\n  text-align: center;\n}\n\n#pxgpbsahxu .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pxgpbsahxu .gt_font_normal {\n  font-weight: normal;\n}\n\n#pxgpbsahxu .gt_font_bold {\n  font-weight: bold;\n}\n\n#pxgpbsahxu .gt_font_italic {\n  font-style: italic;\n}\n\n#pxgpbsahxu .gt_super {\n  font-size: 65%;\n}\n\n#pxgpbsahxu .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pxgpbsahxu .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pxgpbsahxu .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pxgpbsahxu .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pxgpbsahxu .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pxgpbsahxu .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pxgpbsahxu .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;OR&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>OR</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;95% CI&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>95% CI</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;\"><strong>p-value</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">x</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"ci\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    One</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Two-Three</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">7.43</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">2.32, 26.3</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.001</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n-   Based on our previous visual, I don't think this is a good idea\n-   Look at the estimated OR comparing group 2 to group 1 from our original model: 2.79 (95% CI: 0.79, 10.5)\n\n    -   Looks different than the estimated OR in the above table\n\n## Remove the category with 0 cells\n\nRemove group 3 from the data:\n\n::: {.cell}\n\n```{.r .cell-code}\nex1_two = ex1 %>% filter(x != \"Three\")\nex1_two_glm = glm(outcome ~ x, data = ex1_two, family = binomial())\ntbl_regression(ex1_two_glm, exponentiate=T) %>% as_gt() %>% \n  tab_options(table.font.size = 38)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"pwyuvnkpmb\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#pwyuvnkpmb table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pwyuvnkpmb thead, #pwyuvnkpmb tbody, #pwyuvnkpmb tfoot, #pwyuvnkpmb tr, #pwyuvnkpmb td, #pwyuvnkpmb th {\n  border-style: none;\n}\n\n#pwyuvnkpmb p {\n  margin: 0;\n  padding: 0;\n}\n\n#pwyuvnkpmb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 38px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pwyuvnkpmb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pwyuvnkpmb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pwyuvnkpmb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pwyuvnkpmb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pwyuvnkpmb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pwyuvnkpmb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pwyuvnkpmb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pwyuvnkpmb .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pwyuvnkpmb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pwyuvnkpmb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pwyuvnkpmb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pwyuvnkpmb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pwyuvnkpmb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pwyuvnkpmb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pwyuvnkpmb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pwyuvnkpmb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pwyuvnkpmb .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pwyuvnkpmb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pwyuvnkpmb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pwyuvnkpmb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pwyuvnkpmb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pwyuvnkpmb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pwyuvnkpmb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pwyuvnkpmb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pwyuvnkpmb .gt_left {\n  text-align: left;\n}\n\n#pwyuvnkpmb .gt_center {\n  text-align: center;\n}\n\n#pwyuvnkpmb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pwyuvnkpmb .gt_font_normal {\n  font-weight: normal;\n}\n\n#pwyuvnkpmb .gt_font_bold {\n  font-weight: bold;\n}\n\n#pwyuvnkpmb .gt_font_italic {\n  font-style: italic;\n}\n\n#pwyuvnkpmb .gt_super {\n  font-size: 65%;\n}\n\n#pwyuvnkpmb .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pwyuvnkpmb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pwyuvnkpmb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pwyuvnkpmb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pwyuvnkpmb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pwyuvnkpmb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pwyuvnkpmb .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;OR&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>OR</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;95% CI&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>95% CI</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;\"><strong>p-value</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">x</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"ci\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    One</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Two</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">2.79</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">0.79, 10.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.12</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n \n\n-   Not a good idea because we lose information (sample size goes down!)\n-   **And really bad when we have other predictors!!**\n\n\n## Treat predictor as continuous\n\n-   When we treat a predictor as continuous, we need to make sure we have **linearty between continuous predictor and log-odds**\n-   Cannot test this before fitting the logistic regression with the continuous predictor\n\n    -   Try taking the logit of a probability of 1... it's infinity!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nex1_cont = ex1 %>% mutate(x = as.numeric(x))\nex1_cont_glm = glm(outcome ~ x, data = ex1_cont, family = binomial())\ntbl_regression(ex1_cont_glm, exponentiate=T) %>% as_gt() %>% \n  tab_options(table.font.size = 38)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"zofwkipwxo\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#zofwkipwxo table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#zofwkipwxo thead, #zofwkipwxo tbody, #zofwkipwxo tfoot, #zofwkipwxo tr, #zofwkipwxo td, #zofwkipwxo th {\n  border-style: none;\n}\n\n#zofwkipwxo p {\n  margin: 0;\n  padding: 0;\n}\n\n#zofwkipwxo .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 38px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#zofwkipwxo .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zofwkipwxo .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zofwkipwxo .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zofwkipwxo .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zofwkipwxo .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zofwkipwxo .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zofwkipwxo .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zofwkipwxo .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#zofwkipwxo .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#zofwkipwxo .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zofwkipwxo .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zofwkipwxo .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zofwkipwxo .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zofwkipwxo .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zofwkipwxo .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zofwkipwxo .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zofwkipwxo .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#zofwkipwxo .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zofwkipwxo .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zofwkipwxo .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zofwkipwxo .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zofwkipwxo .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zofwkipwxo .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zofwkipwxo .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zofwkipwxo .gt_left {\n  text-align: left;\n}\n\n#zofwkipwxo .gt_center {\n  text-align: center;\n}\n\n#zofwkipwxo .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zofwkipwxo .gt_font_normal {\n  font-weight: normal;\n}\n\n#zofwkipwxo .gt_font_bold {\n  font-weight: bold;\n}\n\n#zofwkipwxo .gt_font_italic {\n  font-style: italic;\n}\n\n#zofwkipwxo .gt_super {\n  font-size: 65%;\n}\n\n#zofwkipwxo .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#zofwkipwxo .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zofwkipwxo .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zofwkipwxo .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zofwkipwxo .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zofwkipwxo .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zofwkipwxo .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;OR&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>OR</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;95% CI&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>95% CI</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;\"><strong>p-value</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">x</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">6.22</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">2.63, 18.0</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Treat predictor as continuous: check linearity assumption\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnewdata = data.frame(x = c(1, 2, 3)) \npred = predict(ex1_cont_glm, newdata, se.fit=T, type = \"link\")\nLL_CI1 = pred$fit - qnorm(1-0.05/2) * pred$se.fit\nUL_CI1 = pred$fit + qnorm(1-0.05/2) * pred$se.fit\n\npred_link = cbind(Pred = pred$fit, LL_CI1, UL_CI1) %>% inv.logit()\npred_prob = as.data.frame(pred_link) %>% mutate(x = c(\"One\", \"Two\", \"Three\"))\n```\n:::\n\n\n\n::: columns\n::: column\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Plotting sample and predicted probabilities\"}\nggplot() + \n      geom_bar(data = ex1, aes(x = x, fill = outcome), stat = \"count\", position = \"fill\") +\n      labs(y = \"Proportion of Outcome\") +\n      scale_fill_manual(values=c(\"#D6295E\", \"#ED7D31\")) +\n      geom_point(data = pred_prob, aes(x = x, y=Pred), size=3) +\n      geom_errorbar(data = pred_prob, aes(x = x, y=Pred, ymin = LL_CI1, ymax = UL_CI1), width = 0.25)\n```\n\n::: {.cell-output-display}\n![](13_Numeric_problems_files/figure-revealjs/unnamed-chunk-19-1.png){width=100%}\n:::\n:::\n\n:::\n::: column\n \n\n::: box2\nThis looks pretty good. We've mostly captured the trend of the outcome proportion!\n:::\n:::\n:::\n\n## Zero cell count when we have multiple predictors\n\n-   Note that we may not see the zero count cells in a single predictor \n\n     \n    \n    -   But we may have issues if there is an interaction!\n    \n     \n    \n    -   This is why I suggested we keep an eye out for cell counts below 10 in our lab! \n\n \n    \n-   If you see a big coefficient estimate with a big standard deviation for a specific category or interaction...\n    \n     \n    \n    -   ...this may mean that a low cell count for that category is causing you issues!\n\n## Zero cell count: summary\n\nMy suggestion is to try possible solutions in this order\n\n1.    For group with zero cell count, see if there is an adjacent group that makes sense to combine it with\n    \n \n    \n2.    If that does not make sense (or obscures your data) AND your data has an inherent order, then you can try treating it as continuous. \n    \n \n    \n3.    Remove the zero count group and all the observations in it (not a very good solution)\n    \n \n\n4.    Add a half count to each cell (only works for a single predictor)\n\n## Poll Everywhere Question 1\n\n# Learning Objectives\n\n1. Identify and troubleshoot logistic regression analysis when there are low or zero observations for the cross section of the outcome and a predictor\n\n::: lob\n2. Identify and troubleshoot logistic regression analysis when there is complete separation between the two outcome groups\n:::\n\n3. Identify and troubleshoot logistic regression analysis when there is multicollinearity between variables\n\n## Complete Separation\n\n-   **Complete separation:** occurs when a collection of the covariates completely separates the outcome groups\n\n    -   Example: Outcome is “gets senior discount at iHop” and the only covariate you measure is age\n    -   Age will completely separate the outcome\n    -   No overlap in distribution of covariates between two outcome groups\n\n \n\n-   Problem: the maximum likelihood estimates do not exist\n\n    -   Likelihood function is monotone\n    -   In order to have finite maximum likelihood estimates we must have some overlap in the distribution of the covariates in the model\n\n\n## Poll Everywhere Question 2\n\n## Complete Separation: example (1/3)\n\n::: columns\n::: {.column width=\"65%\"}\n\n-   We get a warning when we have complete separation\n\n::: {.cell}\n\n```{.r .cell-code}\ny = c(0,0,0,0,1,1,1,1)\nx1 = c(1,2,3,3,5,6,10,11)\nx2 = c(3,2,-1,-1,2,4,1,0)\nex3 = data.frame(outcome = y, x1 = x1, x2= x2)\nex3\n```\n:::\n\n:::\n\n::: {.column width=\"35%\"}\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n  outcome x1 x2\n1       0  1  3\n2       0  2  2\n3       0  3 -1\n4       0  3 -1\n5       1  5  2\n6       1  6  4\n7       1 10  1\n8       1 11  0\n```\n:::\n:::\n\n:::\n\n:::\n\n \n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1 = glm(outcome ~ x1 + x2, data = ex3, family=binomial)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\n```\n:::\n:::\n\n\n-   Outcomes of 0 and 1 are completely separated by `x2`\n    \n    -   If `x2 > 4` then outcome is 1\n    -   If `x2 < 4` then outcome is 0\n\n## Complete Separation: example (2/3)\n\n::: columns\n::: {.column width=\"60%\"}\n\n \n\nCoefficient estimates:\n\n::: {.cell}\n\n```{.r .cell-code}\ntidy(m1, conf.int=T) %>% gt() %>% \n  tab_options(table.font.size = 35) %>%\n  fmt_number(decimals = 2)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"ugfmjsqbic\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ugfmjsqbic table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ugfmjsqbic thead, #ugfmjsqbic tbody, #ugfmjsqbic tfoot, #ugfmjsqbic tr, #ugfmjsqbic td, #ugfmjsqbic th {\n  border-style: none;\n}\n\n#ugfmjsqbic p {\n  margin: 0;\n  padding: 0;\n}\n\n#ugfmjsqbic .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 35px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ugfmjsqbic .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ugfmjsqbic .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ugfmjsqbic .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ugfmjsqbic .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ugfmjsqbic .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ugfmjsqbic .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ugfmjsqbic .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ugfmjsqbic .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ugfmjsqbic .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ugfmjsqbic .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ugfmjsqbic .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ugfmjsqbic .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ugfmjsqbic .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ugfmjsqbic .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ugfmjsqbic .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ugfmjsqbic .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ugfmjsqbic .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ugfmjsqbic .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ugfmjsqbic .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ugfmjsqbic .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ugfmjsqbic .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ugfmjsqbic .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ugfmjsqbic .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ugfmjsqbic .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ugfmjsqbic .gt_left {\n  text-align: left;\n}\n\n#ugfmjsqbic .gt_center {\n  text-align: center;\n}\n\n#ugfmjsqbic .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ugfmjsqbic .gt_font_normal {\n  font-weight: normal;\n}\n\n#ugfmjsqbic .gt_font_bold {\n  font-weight: bold;\n}\n\n#ugfmjsqbic .gt_font_italic {\n  font-style: italic;\n}\n\n#ugfmjsqbic .gt_super {\n  font-size: 65%;\n}\n\n#ugfmjsqbic .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ugfmjsqbic .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ugfmjsqbic .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ugfmjsqbic .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ugfmjsqbic .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ugfmjsqbic .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ugfmjsqbic .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\">estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"std.error\">std.error</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\">conf.low</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.high\">conf.high</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">−66.10</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">183,471.72</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−10,644.72</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">10,512.52</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">x1</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">15.29</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">27,362.84</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−3,122.69</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">x2</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">6.24</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">81,543.72</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−12,797.28</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">NA</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n:::\n\n::: {.column width=\"40%\"}\n\n:::\n\n:::\n\n## Complete Separation: example (3/3)\n\n::: columns\n::: {.column width=\"60%\"}\n\n \n\nCoefficient estimates:\n\n::: {.cell}\n\n```{.r .cell-code}\ntidy(m1, conf.int=T) %>% gt() %>% \n  tab_options(table.font.size = 35) %>%\n  fmt_number(decimals = 2)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"pzpojnvysh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#pzpojnvysh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pzpojnvysh thead, #pzpojnvysh tbody, #pzpojnvysh tfoot, #pzpojnvysh tr, #pzpojnvysh td, #pzpojnvysh th {\n  border-style: none;\n}\n\n#pzpojnvysh p {\n  margin: 0;\n  padding: 0;\n}\n\n#pzpojnvysh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 35px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pzpojnvysh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pzpojnvysh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pzpojnvysh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pzpojnvysh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pzpojnvysh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pzpojnvysh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pzpojnvysh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pzpojnvysh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pzpojnvysh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pzpojnvysh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pzpojnvysh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pzpojnvysh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pzpojnvysh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pzpojnvysh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzpojnvysh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pzpojnvysh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pzpojnvysh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pzpojnvysh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzpojnvysh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pzpojnvysh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzpojnvysh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pzpojnvysh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzpojnvysh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pzpojnvysh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzpojnvysh .gt_left {\n  text-align: left;\n}\n\n#pzpojnvysh .gt_center {\n  text-align: center;\n}\n\n#pzpojnvysh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pzpojnvysh .gt_font_normal {\n  font-weight: normal;\n}\n\n#pzpojnvysh .gt_font_bold {\n  font-weight: bold;\n}\n\n#pzpojnvysh .gt_font_italic {\n  font-style: italic;\n}\n\n#pzpojnvysh .gt_super {\n  font-size: 65%;\n}\n\n#pzpojnvysh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pzpojnvysh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pzpojnvysh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pzpojnvysh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pzpojnvysh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pzpojnvysh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pzpojnvysh .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\">estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"std.error\">std.error</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\">conf.low</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.high\">conf.high</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">−66.10</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">183,471.72</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−10,644.72</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">10,512.52</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">x1</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">15.29</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">27,362.84</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−3,122.69</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">x2</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">6.24</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">81,543.72</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">−12,797.28</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">NA</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n:::\n\n::: {.column width=\"40%\"}\n\n \n\n::: box2\n-   Coefficient estimate of `x1` is large\n-   Standard error of `x1`'s coefficient is large\n-   But also the coefficients and standard errors for the intercept and `x2` are large!\n:::\n\n:::\n\n:::\n\n## Complete Separation\n\n-   The occurrence of complete separation in practice **depends on** \n\n    -   Sample size\n    -   Number of subjects with the outcome present\n    -   Number of variables included in the model\n\n \n\n-   Example: 25 observations and only 5 have “success” outcome\n\n    -   1 variable in model may not lead to complete separation\n    -   More variables = more dimensions that can completely separate the observations\n\n \n\n-   In most cases, the occurrence of complete separation is not bad for clinical importance\n\n    -   But rather a numerical coincidence that causing problem for model fitting\n\n\n## Poll Everywhere Question 3\n\n## Complete Separation: Ways to address issue\n\n-   Collapse categorical variables in a meaningful way\n\n    -   Easiest and best if stat methods are restricted (common for collaborations)\n\n \n\n-   Exclude `x1` from the model\n\n    -   Not ideal because this could lead to biased estimates for the other predicted variables in the model\n\n \n\n-   Firth logistic regression\n\n    -   Uses penalized likelihood estimation method\n\n    -   Basically takes the likelihood (that has no maximum) and adds a penalty that makes the MLE estimatable \n\n![](images/firth.png){.absolute bottom=5 right=0 width=\"150\"}\n\n## Complete Separation: Firth logistic regression\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(logistf)\nm1_f = logistf(outcome ~ x1 + x2, data = ex3, family=binomial)\nsummary(m1_f) # Cannot use tidy on this :(\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nlogistf(formula = outcome ~ x1 + x2, data = ex3, family = binomial)\n\nModel fitted by Penalized ML\nCoefficients:\n                  coef  se(coef)   lower 0.95 upper 0.95     Chisq          p\n(Intercept) -2.9748898 1.7244237 -15.47721665 -0.1208883 4.2179522 0.03999841\nx1           0.4908484 0.2745754   0.05268216  2.1275832 5.0225056 0.02501994\nx2           0.4313732 0.4988396  -0.65793078  4.4758930 0.7807099 0.37692411\n            method\n(Intercept)      2\nx1               2\nx2               2\n\nMethod: 1-Wald, 2-Profile penalized log-likelihood, 3-None\n\nLikelihood ratio test=5.505687 on 2 df, p=0.06374636, n=8\nWald test = 3.624899 on 2 df, p = 0.1632538\n```\n:::\n:::\n\n\n![](images/firth.png){.absolute bottom=5 right=0 width=\"150\"}\n\n# Learning Objectives\n\n1. Identify and troubleshoot logistic regression analysis when there are low or zero observations for the cross section of the outcome and a predictor\n\n\n2. Identify and troubleshoot logistic regression analysis when there is complete separation between the two outcome groups\n\n::: lob\n3. Identify and troubleshoot logistic regression analysis when there is multicollinearity between variables\n:::\n\n## Multicollinearity\n\n-   **Multicollinearity** happens when one or more of the covariates in a model can be predicted from other covariates in the same model\n\n \n\n-   This will cause unreliable coefficient estimates for some covariates in logistic regression, as in an ordinary linear regression\n\n \n\n-   Looking at correlations among pairs of variables is helpful but not enough to identify multicollinearity problem\n\n    -   Because multicollinearity problems may involve relationships among more than two covariates \n\n\n## Multicollinearity: example (1/4)\n\n-   Table below is a simulated data with \n\n    -   $x_1 \\sim \\text{Normal}(0,1)$\n    -   $x_2 = x_1 + \\text{Uniform}(0,0.1)$\n    -   $x_3 = 1 + \\text{Uniform}(0, 0.01)$\n\n-   Therefore, $x_1$ and $x_2$ are highly correlated, and $x_3$ is nearly collinear with the constant term\n\n![](images/collin_ex_tb.png){fig-align=\"center\"}\n\n## Multicollinearity: example (2/4)\n\n-   Four logistic regression models using data in the previous slide\n\n-   Consequence of multicollinearity: large coefficient estimates and/or standard errors\n\n \n\n::: columns\n::: {.column width=\"10%\"}\n\n:::\n\n::: {.column width=\"80%\"}\n\n![](images/collin_ex_coef.png){fig-align=\"center\"}\n\n:::\n::: {.column width=\"10%\"}\n\n:::\n\n:::\n\n\n\n## Multicollinearity: example (3/4)\n\n-   Four logistic regression models using data in the previous slide\n\n-   Consequence of multicollinearity: large coefficient estimates and/or standard errors\n\n \n\n::: columns\n::: {.column width=\"10%\"}\n\n:::\n\n::: {.column width=\"80%\"}\n\n![](images/collin_ex_coef_mod.png){fig-align=\"center\"}\n\n:::\n::: {.column width=\"10%\"}\n\n:::\n\n:::\n\n## Multicollinearity: example (4/4)\n\n-   Four logistic regression models using data in the previous slide\n\n-   Consequence of multicollinearity: large coefficient estimates and/or standard errors\n\n \n\n::: columns\n::: {.column width=\"10%\"}\n\n:::\n\n::: {.column width=\"80%\"}\n\n![](images/collin_ex_coef_mod2.png){fig-align=\"center\"}\n\n:::\n::: {.column width=\"10%\"}\n\n:::\n\n:::\n\n## Multicollinearity: how to detect\n\n-   Multicollinearity only involves the covariates\n\n    -   No specific issues to logistic regression (vs. linear regression)\n    -   Techniques from 512/612 work well for logistic regression model\n\n \n\n-   In more complicated dataset/analysis, we may not be able to detect multicollinearity using the coefficient estimates/SE\n\n \n\n-   **Variance inflation factor (VIF) approach:** well-known approach to detect multicollinearity\n\n\n## Variance Inflation Factor (VIF) Approach\n\n-   Computed by regressing each variable on all the other explanatory variables\n\n    -   For example: $E(x_1│x_2,x_3,…)=\\alpha_0+\\alpha_1 x_2+\\alpha_2 x_3$\n\n-   Calculate the coefficient of determination, $R^2$\n\n    -   Proportion of the variation in $x_1$ that is predicted from $x_2$, $x_3$,... $$VIF = \\dfrac{1}{1=R^2}$$\n\n-   Each covariate has its own VIF computed\n\n-   Get worried for multicollinearity if VIF > 10\n\n-   Sometimes VIF approach may miss serious multicollinearity \n\n    -   Same multicollinearity we wish to detect using VIF can cause numerical problems in reliably estimating $R^2$\n\n## Multicollinearity: Ways to address the issue\n\n-   Exclude the redundant variable from the model\n        \n-   Scaling and centering variables\n\n    -   When you have transformed a continuous variable\n\n-   Other modeling approach (outside scope of this class)\n\n    -   Ridge regression\n    -   Principle component analysis\n\n \n\n-   **Please take a look at the [BSTA 512/612 lesson](https://nwakim.github.io/W2024_BSTA_512/weeks/week_10_sched.html) that included multicollinearity**\n\n## Poll Everywhere Question 4\n\n# Learning Objectives\n\n1. Identify and troubleshoot logistic regression analysis when there are low or zero observations for the cross section of the outcome and a predictor\n\n\n2. Identify and troubleshoot logistic regression analysis when there is complete separation between the two outcome groups\n\n\n3. Identify and troubleshoot logistic regression analysis when there is multicollinearity between variables\n\n\n\n",
    "supporting": [
      "13_Numeric_problems_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
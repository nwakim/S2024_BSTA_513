{
  "hash": "e4be608077a7220f15e230276c62fd55",
  "result": {
    "markdown": "---\ntitle: \"Week 1\"\ndescription: \"Introduction; Review; and Data Wrangling\"\ndate: \"1/8/2024\"\ndate-modified: \"1/8/2024\"\ncategories: [\"\"]\nformat: \n  html:\n    link-external-newwindow: true\n    toc: true\n    highlight-style: ayu\n  pdf: default\n---\n\n::: {.cell}\n<style type=\"text/css\">\n.title{\n  font-size: 40px;\n  color: #213c96;\n  background-color: #fff;\n  padding: 0px;\n}\n\n.description{\n  font-size: 20px;\n  color: #fff;\n  background-color: #213c96;\n  padding: 10px;\n}\n</style>\n:::\n\n\n## Resources\n\nBelow is a table with links to resources. Icons in [orange]{style=\"color:#E89543;\"} mean there is an available file link.\n\n+--------+-----------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Lesson | Topic           | Slides                                                                                                  | Annotated Slides                                                                                                               | Recording(s)                                                                                                                                                                                                                                                                                                                                                                          |\n+========+=================+:=======================================================================================================:+:==============================================================================================================================:+:=====================================================================================================================================================================================================================================================================================================================================================================================:+\n|        | Intro           | [[{{< iconify ri slideshow-fill size=30px >}}](../slides/00_Intro.qmd)]{style=\"color:#f8f5f0;\"}         | [{{< iconify pepicons-pop pen-circle-filled size=29px >}}]{style=\"color:#f8f5f0;\"}                                             | [[{{< iconify mdi video size=34px >}}](https://ohsuitg-my.sharepoint.com/personal/wakim_ohsu_edu/_layouts/15/stream.aspx?id=%2Fpersonal%2Fwakim%5Fohsu%5Fedu%2FDocuments%2FTeaching%2FClasses%2FW2024%5FBSTA%5F512%5F612%2FStudent%5Ffiles%2FRecordings%2F00%5FIntro%2Emp4&referrer=StreamWebApp%2EWeb&referrerScenario=AddressBarCopied%2Eview)]{style=\"color:#f8f5f0;\"}             |\n+--------+-----------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| 1      | Review          | [[{{< iconify ri slideshow-fill size=30px >}}](/slides/01_Review.qmd)]{style=\"color:#f8f5f0;\"}          | [[{{< iconify pepicons-pop pen-circle-filled size=29px >}}](/slides_annotated/01_Review.pdf)]{style=\"color:#f8f5f0;\"}          | [[{{< iconify mdi video size=34px >}}](https://ohsuitg-my.sharepoint.com/personal/wakim_ohsu_edu/_layouts/15/stream.aspx?id=%2Fpersonal%2Fwakim%5Fohsu%5Fedu%2FDocuments%2FTeaching%2FClasses%2FW2024%5FBSTA%5F512%5F612%2FStudent%5Ffiles%2FRecordings%2F01%5FReview%5F01%2Emp4&referrer=StreamWebApp%2EWeb&referrerScenario=AddressBarCopied%2Eview)]{style=\"color:#f8f5f0;\"}       |\n|        |                 |                                                                                                         |                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                       |\n|        |                 |                                                                                                         |                                                                                                                                | [[{{< iconify mdi video size=34px >}}](https://ohsuitg-my.sharepoint.com/personal/wakim_ohsu_edu/_layouts/15/stream.aspx?id=%2Fpersonal%2Fwakim%5Fohsu%5Fedu%2FDocuments%2FTeaching%2FClasses%2FW2024%5FBSTA%5F512%5F612%2FStudent%5Ffiles%2FRecordings%2F01%5FReview%5F02%2Emp4&referrer=StreamWebApp%2EWeb&referrerScenario=AddressBarCopied%2Eview)]{style=\"color:#f8f5f0;\"}       |\n+--------+-----------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| 2      | Data Management | [[{{< iconify ri slideshow-fill size=30px >}}](/slides/02_Data_Management.qmd)]{style=\"color:#f8f5f0;\"} | [[{{< iconify pepicons-pop pen-circle-filled size=29px >}}](/slides_annotated/02_Data_Management.pdf)]{style=\"color:#f8f5f0;\"} | [[{{< iconify mdi video size=34px >}}](https://ohsuitg-my.sharepoint.com/personal/wakim_ohsu_edu/_layouts/15/stream.aspx?id=%2Fpersonal%2Fwakim%5Fohsu%5Fedu%2FDocuments%2FTeaching%2FClasses%2FW2024%5FBSTA%5F512%5F612%2FStudent%5Ffiles%2FRecordings%2F02%5FData%5FManagement%2Emp4&referrer=StreamWebApp%2EWeb&referrerScenario=AddressBarCopied%2Eview)]{style=\"color:#f8f5f0;\"} |\n+--------+-----------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n\nFor the slides, once they are opened, if you would like to print or save them as a PDF, the best way to do this is:\n\n1.  Click on the icon with three horizontal bars on the bottom left of the browser.\n2.  Click on \"Tools\" with the gear icon at the top of the sidebar.\n3.  Click on \"PDF Export Mode.\"\n4.  From there, you can print or save the PDF as you would normally from your internet browser.\n    1.  For example, in Chrome: I would click on the 3 vertical dots in the top right corner, then click Print, then change the Destination to \"Save as PDF.\"\n    2.  It doesn't seem to work well in Safari... Let me know if you're having trouble.\n\n[Here is the link to my Poll Everywhere!!](https://pollev.com/nickywakim275)\n\n## Announcements\n\n### Monday 1/8\n\n-   We came from two different sections of the same course\n    -   While I am confident we all learned a lot and mostly the same material\n    -   We definitely learned it in different ways\n    -   Three components of 511/512/513\n        -   Theory\n        -   Application\n        -   Coding\n-   There is a workshop on Friday, 1/12\n    -   [Data Equity Primer](https://weallcount.com/the-data-equity-primer/) from We All Count\n    -   ~~If you attend, I will give you an extra 3% on your project report.~~\n    -   Unfortunately, I was in contact with the workshop, but they cannot offer free seats to the whole class.\n    -   I am attending, and will try to see if I can share a recording afterwards!\n-   Here are a few resources if youâ€™d like to practice R:\n    -   [https://rladiessydney.org/courses/ryouwithme/](https://urldefense.com/v3/__https:/rladiessydney.org/courses/ryouwithme/__;!!Mi0JBg!IBoZPEa58_qilCqExXMIk05vR_PoK6BO5kH5n48vdJXKPK6dpuLSP4QwMqxk2n11HgCpsLCq7ufpNjA$ \"https://urldefense.com/v3/__https:/rladiessydney.org/courses/ryouwithme/__;!!Mi0JBg!IBoZPEa58_qilCqExXMIk05vR_PoK6BO5kH5n48vdJXKPK6dpuLSP4QwMqxk2n11HgCpsLCq7ufpNjA$\")\n    -   [https://r-bootcamp.netlify.app/](https://urldefense.com/v3/__https:/r-bootcamp.netlify.app/__;!!Mi0JBg!IBoZPEa58_qilCqExXMIk05vR_PoK6BO5kH5n48vdJXKPK6dpuLSP4QwMqxk2n11HgCpsLCqkZiESbE$ \"https://urldefense.com/v3/__https:/r-bootcamp.netlify.app/__;!!Mi0JBg!IBoZPEa58_qilCqExXMIk05vR_PoK6BO5kH5n48vdJXKPK6dpuLSP4QwMqxk2n11HgCpsLCqkZiESbE$\")\n        -   This is step by step, and lets you practice your code in real time\n        -   We will use `ggplot2`, `dplyr`, and `tidyr` extensively in this class!\n        -   I am happy to help with coding, but during our class time our focus will by statistics topics\n            -   Coding help will mostly be done outside of class time\n-   We will also be using an attachment within Rstudio called Quarto\n    -   Here is a great tutorial on Quarto: <https://quarto.org/docs/get-started/hello/rstudio.html>\n        -   Mine is the Quarto queen!\n        -   There is some expectation of knowledge with the above packages (`ggplot2`, `dplyr`, and `tidyr`)\n\n### Wednesday 1/10\n\n-   Aha! I finally found the fun source on connecting tests from 511 to linear models!!\n    -   [Here is the site](https://lindeloev.github.io/tests-as-linear/)\n    -   And here is the cheat sheet: ![](week_01/linear_tests_cheat_sheet.png)\n-   Website updates\n    -   Please see the muddiest points below\n        -   I try to elaborate/answer questions from your exit tickets\n    -   Schedule updated to include Holidays\n    -   New resources tab that I will try to update after every class!\n-   Asking about getting a different room - seems like we're cramped\n-   Lab grading\n    -   Each lab will be graded using a rubric (on each lab page)\n    -   You will need to hit specific points to get full credit for the lab\n    -   This is not a \"turn in as is\" assignment. You need to turn it in on time OR ask me for an extension.\n        -   It is likely that I can give you a few more days to finish\n    -   For labs, you will have ONE no-questions-asked, 3-day extension. Please use this wisely! You just need to send me a quick email saying \"I am using my no-questions-asked extension for Lab \\_\\_.\"\n        -   If you need another extension, then you need to email me to ask\n\n## On the Horizon\n\n-   [Homework 0 due 1/11](../homework/HW0.qmd)\n\n## Class Exit Tickets\n\n[[{{< iconify healthicons health-worker-form-negative size=30px >}}](https://forms.office.com/Pages/ResponsePage.aspx?id=V3lz4rj6fk2U9pvWr59xWFMopmPUjRtDiHLswhgacNhUNEU3TkZQUjdEMElYQVpWRUc4UkVDSVBMNy4u)]{style=\"color:#f8f5f0;\"} Monday (1/8)\n\n[[{{< iconify healthicons health-worker-form-negative size=30px >}}](https://forms.office.com/Pages/ResponsePage.aspx?id=V3lz4rj6fk2U9pvWr59xWFMopmPUjRtDiHLswhgacNhUODlaWDJPNzQxRVhaOFVDVUhOU1oxRTlTUC4u)]{style=\"color:#f8f5f0;\"} Wednesday (1/10)\n\n## Additional Information\n\nAs we start the course, here are some administrative items that we need to do:\n\n-   Please join the Slack page\n-   Please read the syllabus on your own time\n\n## Muddiest Points\n\n### 1. Relationship between distributions\n\nJust to clarify! We will be using the distributions in the context of hypothesis testing. I just wanted you to see some of the cool connections between the distributions. (We don't need to know the connections for a lot of what we do in this class.)\n\nAlso, I will discuss each distribution again as we hit the hypothesis tests that use them!\n\nThere is a big, scary (but fun!) infographic at the end of a famous stat textbook (Casella and Berger) that shows all the connections between distributions:\n\n![](week_01/CB_distributions.png)\n\nWe mostly talk about the red, circled area. Each line with the directional arrow represents a specific transformation that is needed to go from the starting distribution to the distribution at the end of the arrow.\n\n**Again, this is NOT information we need to perform regression, but it is really interesting to see the connections between these distributions.**\n\n### 2. A word about the distributions\n\nI feel like I might've scared us with all the distribution talk.\n\nI want to be clear: We will further discuss and explore the distributions as we use them within the course. It will be more important **to understand their use within regression** then knowing the distribution in depth. **Basically, when we implement specific hypothesis tests, we just need to know which distribution is most appropriate for the test.**\n\n### 3. Is the F distribution used for things outside of ANOVA?\n\nYes! In regression, we often use the F-distribution through the F-test (same as ANOVA) However, in regression, we are comparing the variance of two models, that may differ by a coefficient. [See the STAT 501 page for more info if interested.](https://online.stat.psu.edu/stat501/lesson/6/6.2) In ANOVA, we are comparing variance between and within groups. Both use the same test, but with different goals!\n\n### 4. Multivariable vs multivariate?\n\nSome people misuse \"multivariate\" instead of \"multivariable\" modeling. In this class, we will only look at multivariable regression. Here's the big difference:\n\n-   **Multivariable:** model with **multiple independent variables** (covariates, predictors)\n    -   If we want to see how our outcome (height) is related to parent height, birth country, sex assigned at birth, etc.\n-   **Multivariate:** model with **multiple dependent variables** (outcome)\n    -   If we want to extend the outcome from height to height and head circumference. Multivariate modeling would try to model both outcomes together and see how they are related to other variables.\n\n### 5. More on the functions and problems we had in class!\n\n::: callout-important\nThis section has some examples from [this YouTube video series](https://www.youtube.com/watch?v=THGFXV4RW8U&list=PLiC1doDIe9rC8RgWPAWqDETE-VbKOWfWl&ab_channel=DataDaft). There is a video on mutate, pipe, filter, select, rename, arrange, and summarize. Note that some of the function in the series is outdated. The use of `if_else()` in the video is outdated, and it is more common to use `case_when()` now. The use of `gather` and `spread` have been replaced by `pivot_longer` and `pivot_wider`.\n:::\n\nTo discuss these functions below, I want to use a different dataset than what we used for examples in class. I'm hoping this allows us to see each function from a different angle. I'll use the dataset that we used for some of the `ggplot` examples: `mtcars`. Let's load the tidyverse and take a look at the dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nglimpse(mtcars)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 11\n$ mpg  <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2, 17.8,â€¦\n$ cyl  <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4, 4, 8,â€¦\n$ disp <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140.8, 16â€¦\n$ hp   <dbl> 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 180, 180, 180â€¦\n$ drat <dbl> 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92, 3.92, 3.92,â€¦\n$ wt   <dbl> 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.190, 3.150, 3.â€¦\n$ qsec <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.90, 18â€¦\n$ vs   <dbl> 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0,â€¦\n$ am   <dbl> 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0,â€¦\n$ gear <dbl> 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4, 4, 4, 3, 3,â€¦\n$ carb <dbl> 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1, 2, 1, 1, 2,â€¦\n```\n:::\n:::\n\n\n#### `mutate()`\n\nFor mutate, there are a few common uses:\n\n-   create another numeric variable by manipulating other variables\n\n-   create a categorical variable by creating cases from other variables\n\n##### Create another numeric variable by manipulating other variables\n\nThe `wt` variable is the weight of the car in tons. Let's say we want the full weight in pounds (lbs). I'll create a new variable that is 1000 times (1 ton = 1000 lbs) the weight in the dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars1 = mtcars %>%\n  mutate(weight_lb = wt * 1000)\n\nglimpse(mtcars1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 12\n$ mpg       <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2, â€¦\n$ cyl       <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4, â€¦\n$ disp      <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140.â€¦\n$ hp        <dbl> 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 180, 180â€¦\n$ drat      <dbl> 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92, 3.92, â€¦\n$ wt        <dbl> 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.190, 3.15â€¦\n$ qsec      <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.9â€¦\n$ vs        <dbl> 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, â€¦\n$ am        <dbl> 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, â€¦\n$ gear      <dbl> 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4, 4, 4, â€¦\n$ carb      <dbl> 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1, 2, 1, â€¦\n$ weight_lb <dbl> 2620, 2875, 2320, 3215, 3440, 3460, 3570, 3190, 3150, 3440, â€¦\n```\n:::\n:::\n\n\nWe can also perform several mutations at the same time. Let's say we want the weight in pounds AND the horse power per cylinder (`hp` per `cyl`). We can perform both manipulations:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars2 = mtcars %>%\n  mutate(weight_lb = wt * 1000, \n         hp_per_cyl = hp/cyl)\n\nglimpse(mtcars2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 13\n$ mpg        <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2,â€¦\n$ cyl        <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4,â€¦\n$ disp       <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140â€¦\n$ hp         <dbl> 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 180, 18â€¦\n$ drat       <dbl> 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92, 3.92,â€¦\n$ wt         <dbl> 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.190, 3.1â€¦\n$ qsec       <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.â€¦\n$ vs         <dbl> 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1,â€¦\n$ am         <dbl> 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1,â€¦\n$ gear       <dbl> 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4, 4, 4,â€¦\n$ carb       <dbl> 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1, 2, 1,â€¦\n$ weight_lb  <dbl> 2620, 2875, 2320, 3215, 3440, 3460, 3570, 3190, 3150, 3440,â€¦\n$ hp_per_cyl <dbl> 18.33333, 18.33333, 23.25000, 18.33333, 21.87500, 17.50000,â€¦\n```\n:::\n:::\n\n\nYou can even use the same syntax if you need to change a variable that depends on a previous mutation. Let's say I want the ratio of weight in pounds to the car's horse power.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars3 = mtcars %>%\n  mutate(weight_lb = wt * 1000, \n         w_to_hp = weight_lb / hp)\n\nglimpse(mtcars3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 13\n$ mpg       <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2, â€¦\n$ cyl       <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4, â€¦\n$ disp      <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140.â€¦\n$ hp        <dbl> 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 180, 180â€¦\n$ drat      <dbl> 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92, 3.92, â€¦\n$ wt        <dbl> 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.190, 3.15â€¦\n$ qsec      <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.9â€¦\n$ vs        <dbl> 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, â€¦\n$ am        <dbl> 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, â€¦\n$ gear      <dbl> 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4, 4, 4, â€¦\n$ carb      <dbl> 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1, 2, 1, â€¦\n$ weight_lb <dbl> 2620, 2875, 2320, 3215, 3440, 3460, 3570, 3190, 3150, 3440, â€¦\n$ w_to_hp   <dbl> 23.81818, 26.13636, 24.94624, 29.22727, 19.65714, 32.95238, â€¦\n```\n:::\n:::\n\n\n##### Create a categorical variable by creating cases from other variables\n\nRecall in class we used mutate to label the numeric values of `am` to a categorical variable `transmission`. We create a new categorical variable from a binary, numeric variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars4 = mtcars %>%\n  mutate(transmission = case_when(am == 0 ~ \"automatic\",\n                                  am == 1 ~ \"manual\"))\nglimpse(mtcars4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 12\n$ mpg          <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.â€¦\n$ cyl          <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, â€¦\n$ disp         <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 1â€¦\n$ hp           <dbl> 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 180, â€¦\n$ drat         <dbl> 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92, 3.9â€¦\n$ wt           <dbl> 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.190, 3â€¦\n$ qsec         <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 2â€¦\n$ vs           <dbl> 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, â€¦\n$ am           <dbl> 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, â€¦\n$ gear         <dbl> 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4, 4, â€¦\n$ carb         <dbl> 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1, 2, â€¦\n$ transmission <chr> \"manual\", \"manual\", \"manual\", \"automatic\", \"automatic\", \"â€¦\n```\n:::\n:::\n\n\nWe can also create a categorical variable from a continuous numeric variable. Let's say we want to divide the miles per gallon into three categories: low, medium, and high. We can use `mutate()` and `case_when()` to do so:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars5 = mtcars %>%\n  mutate(mpg_cat = case_when(mpg > 22 ~ \"high\",\n                             mpg > 15 ~ \"medium\", \n                             .default = \"low\"))\nglimpse(mtcars5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 12\n$ mpg     <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2, 17â€¦\n$ cyl     <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4, 4,â€¦\n$ disp    <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140.8,â€¦\n$ hp      <dbl> 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 180, 180, â€¦\n$ drat    <dbl> 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92, 3.92, 3.â€¦\n$ wt      <dbl> 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.190, 3.150,â€¦\n$ qsec    <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.90,â€¦\n$ vs      <dbl> 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1,â€¦\n$ am      <dbl> 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0,â€¦\n$ gear    <dbl> 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4, 4, 4, 3,â€¦\n$ carb    <dbl> 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1, 2, 1, 1,â€¦\n$ mpg_cat <chr> \"medium\", \"medium\", \"high\", \"medium\", \"medium\", \"medium\", \"lowâ€¦\n```\n:::\n:::\n\n\nNotice that I used `.default` in the last case. This means \"for all other values of mpg, assign it to 'low'.\"\n\n#### pipe `%>%`\n\n[Check out the videos explanation!](https://www.youtube.com/watch?v=ui3VZeuN8QY&list=PLiC1doDIe9rC8RgWPAWqDETE-VbKOWfWl&index=2&ab_channel=DataDaft) I can't explain it much better!!\n\n#### `select()` everything but a certain variable\n\nIt seems like we're mostly okay with the `select()` function, but want more information on selecting everything but a certain varaible.\n\nWhen we select variables, we have the option to identify variables we want to keep or remove. If we want to keep a variable, we would just list the variable's column name. If we want to remove a variable, we use the minus sign to let R know that we do NOT want that variable. We typically do not tell R to remove and keep variables within the same `select()` function. Let's recall the variables within the original `mtcars` dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(mtcars)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 11\n$ mpg  <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2, 17.8,â€¦\n$ cyl  <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4, 4, 8,â€¦\n$ disp <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140.8, 16â€¦\n$ hp   <dbl> 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 180, 180, 180â€¦\n$ drat <dbl> 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92, 3.92, 3.92,â€¦\n$ wt   <dbl> 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.190, 3.150, 3.â€¦\n$ qsec <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.90, 18â€¦\n$ vs   <dbl> 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0,â€¦\n$ am   <dbl> 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0,â€¦\n$ gear <dbl> 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4, 4, 4, 3, 3,â€¦\n$ carb <dbl> 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1, 2, 1, 1, 2,â€¦\n```\n:::\n:::\n\n\nNow we want to keep the following variables: `cyl`, `mpg`, `disp`, and `qsec`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars6 = mtcars %>%\n  select(mpg, cyl, disp, qsec)\nglimpse(mtcars6)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 4\n$ mpg  <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2, 17.8,â€¦\n$ cyl  <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4, 4, 8,â€¦\n$ disp <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140.8, 16â€¦\n$ qsec <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.90, 18â€¦\n```\n:::\n:::\n\n\nIn this case there was less typing to ID the variables we wanted to keep, so we inputted the column names. If we wanted to ID the variables we wanted to remove, what variables would identify to get the same remaining variables that are in `mtcars6`?\n\nSo we want to remove the following variables:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars7 = mtcars %>%\n  select(-hp, -drat, -wt, -vs, -am, -gear, -carb)\nglimpse(mtcars7)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 4\n$ mpg  <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2, 17.8,â€¦\n$ cyl  <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4, 4, 8,â€¦\n$ disp <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140.8, 16â€¦\n$ qsec <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.90, 18â€¦\n```\n:::\n:::\n\n\nSo both get the job done, but one is definitely quicker to type!\n\n::: callout-note\n## We don't have to write the minus in front of every variable\n\nWhen we are removing several variables, we can combine them into a vector to remove:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars8 = mtcars %>%\n  select(-c(hp, drat, wt, vs, am, gear, carb))\nglimpse(mtcars8)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 32\nColumns: 4\n$ mpg  <dbl> 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2, 17.8,â€¦\n$ cyl  <dbl> 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4, 4, 8,â€¦\n$ disp <dbl> 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140.8, 16â€¦\n$ qsec <dbl> 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.90, 18â€¦\n```\n:::\n:::\n\n\nThe vector above is: `c(hp, drat, wt, vs, am, gear, carb)` and the minus sign in front of the vector will be applied to each variable.\n:::\n\n#### `pivot_longer()`\n\nI want to address the function with the faculty dataset from class.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Note, I've put the data in a folder \"data\" that is in the same folder as this page's file\nstaff = read_csv(\"data/instructional-staff.csv\")\nstaff\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 Ã— 12\n  faculty_type    `1975` `1989` `1993` `1995` `1999` `2001` `2003` `2005` `2007`\n  <chr>            <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n1 Full-Time Tenuâ€¦   29     27.6   25     24.8   21.8   20.3   19.3   17.8   17.2\n2 Full-Time Tenuâ€¦   16.1   11.4   10.2    9.6    8.9    9.2    8.8    8.2    8  \n3 Full-Time Non-â€¦   10.3   14.1   13.6   13.6   15.2   15.5   15     14.8   14.9\n4 Part-Time Facuâ€¦   24     30.4   33.1   33.2   35.5   36     37     39.3   40.5\n5 Graduate Studeâ€¦   20.5   16.5   18.1   18.8   18.7   19     20     19.9   19.5\n# â„¹ 2 more variables: `2009` <dbl>, `2011` <dbl>\n```\n:::\n:::\n\n\nNote that I am not using `glimpse()` here because we only have 5 rows corresponding to the faculty type. What would a glimpse of the data look like?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(staff)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 5\nColumns: 12\n$ faculty_type <chr> \"Full-Time Tenured Faculty\", \"Full-Time Tenure-Track Facuâ€¦\n$ `1975`       <dbl> 29.0, 16.1, 10.3, 24.0, 20.5\n$ `1989`       <dbl> 27.6, 11.4, 14.1, 30.4, 16.5\n$ `1993`       <dbl> 25.0, 10.2, 13.6, 33.1, 18.1\n$ `1995`       <dbl> 24.8, 9.6, 13.6, 33.2, 18.8\n$ `1999`       <dbl> 21.8, 8.9, 15.2, 35.5, 18.7\n$ `2001`       <dbl> 20.3, 9.2, 15.5, 36.0, 19.0\n$ `2003`       <dbl> 19.3, 8.8, 15.0, 37.0, 20.0\n$ `2005`       <dbl> 17.8, 8.2, 14.8, 39.3, 19.9\n$ `2007`       <dbl> 17.2, 8.0, 14.9, 40.5, 19.5\n$ `2009`       <dbl> 16.8, 7.6, 15.1, 41.1, 19.4\n$ `2011`       <dbl> 16.7, 7.4, 15.4, 41.3, 19.3\n```\n:::\n:::\n\n\nBoth views are indicators that the dataset is in a \"wide\" format where each year has its own column. We want our data to be in a tidy format, which means each column is a variable and each cell has a value. However, the years are actually values for a variable \"year.\" By using `pivot_longer()`, we can tell R to take those columns for years and make them their own column where year is the value. That means for a year like 1975, there are five numbers corresponding to the five faculty types. Those five numbers are the percentage of the specific faculty type in that year. So we want to end with columns: faculty type, year, and percentage.\n\nTo start with an easier implementation of `pivot_longer()`, let's remove the faculty type using `select()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstaff2 = staff %>%\n  select(-faculty_type)\nstaff2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 Ã— 11\n  `1975` `1989` `1993` `1995` `1999` `2001` `2003` `2005` `2007` `2009` `2011`\n   <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n1   29     27.6   25     24.8   21.8   20.3   19.3   17.8   17.2   16.8   16.7\n2   16.1   11.4   10.2    9.6    8.9    9.2    8.8    8.2    8      7.6    7.4\n3   10.3   14.1   13.6   13.6   15.2   15.5   15     14.8   14.9   15.1   15.4\n4   24     30.4   33.1   33.2   35.5   36     37     39.3   40.5   41.1   41.3\n5   20.5   16.5   18.1   18.8   18.7   19     20     19.9   19.5   19.4   19.3\n```\n:::\n:::\n\n\nNow we can pivot the years! We first identify the columns that we want to pivot. To pivot all the columns, we say `cols = everything()`. `pivot_longer()` knows you want the column names to now become values of a variable, but it does not know what to call that variable. So now we identify the new variable name of the column that will contain all the years (our old column names). We identify the new variable name with: `names_to`. Finally, we need to adress the old cell values that were under each year in our wide dataset. Those cell values will make up a new column/variable. Remember that each year had 5 values underneath it, so we need to include all 55 cell values. Similar to `names_to`, we need to identify the new column names for all those values. We use `values_to` to identify the column name for the cell values of our old wide formatted data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstaff_long = staff2 %>%\n  pivot_longer(\n    cols = everything(),    # columns to pivot\n    names_to = \"year\",       # name of new column for variable names\n    values_to = \"percentage\" # name of new column for values\n  ) %>%\n  mutate(percentage = as.numeric(percentage))\n\nhead(staff_long, 20) # I'm asking R to show me the first 20 rows\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 Ã— 2\n   year  percentage\n   <chr>      <dbl>\n 1 1975        29  \n 2 1989        27.6\n 3 1993        25  \n 4 1995        24.8\n 5 1999        21.8\n 6 2001        20.3\n 7 2003        19.3\n 8 2005        17.8\n 9 2007        17.2\n10 2009        16.8\n11 2011        16.7\n12 1975        16.1\n13 1989        11.4\n14 1993        10.2\n15 1995         9.6\n16 1999         8.9\n17 2001         9.2\n18 2003         8.8\n19 2005         8.2\n20 2007         8  \n```\n:::\n:::\n\n\nI included the first 20 rows so we could see that the years repeat. This is because there were 5 percentages for each year. While this is in the desired long format, we now see that we're missing the information on faculty type. Each percentage in each year corresponded to a specific faculty type:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstaff_long %>% filter(year == 1975)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 Ã— 2\n  year  percentage\n  <chr>      <dbl>\n1 1975        29  \n2 1975        16.1\n3 1975        10.3\n4 1975        24  \n5 1975        20.5\n```\n:::\n:::\n\n\nWhich percentage is for which faculty??\n\nWe could use another function called `join()` to try to remedy the situation, but it's much easier to redo the pivot function. We will go back to `staff` which still has the faculty type:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstaff\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 Ã— 12\n  faculty_type    `1975` `1989` `1993` `1995` `1999` `2001` `2003` `2005` `2007`\n  <chr>            <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n1 Full-Time Tenuâ€¦   29     27.6   25     24.8   21.8   20.3   19.3   17.8   17.2\n2 Full-Time Tenuâ€¦   16.1   11.4   10.2    9.6    8.9    9.2    8.8    8.2    8  \n3 Full-Time Non-â€¦   10.3   14.1   13.6   13.6   15.2   15.5   15     14.8   14.9\n4 Part-Time Facuâ€¦   24     30.4   33.1   33.2   35.5   36     37     39.3   40.5\n5 Graduate Studeâ€¦   20.5   16.5   18.1   18.8   18.7   19     20     19.9   19.5\n# â„¹ 2 more variables: `2009` <dbl>, `2011` <dbl>\n```\n:::\n:::\n\n\nNow we can implement `pivot_longer()`. We will identify the columns we want to pivot as column 2 through 12 so we exclude the faculty type from the pivoting. BUT the really nice thing is that `pivot_longer()` will remember the percentages that correspond to a specific combination of faculty type and year! Let's try it again:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstaff_long2 = staff %>%\n  pivot_longer(\n    cols = 2:12,    # columns to pivot\n    names_to = \"year\",       # name of new column for variable names\n    values_to = \"percentage\" # name of new column for values\n  ) %>%\n  mutate(percentage = as.numeric(percentage))\n\nhead(staff_long2, 20) # I'm asking R to show me the first 20 rows\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 Ã— 3\n   faculty_type                   year  percentage\n   <chr>                          <chr>      <dbl>\n 1 Full-Time Tenured Faculty      1975        29  \n 2 Full-Time Tenured Faculty      1989        27.6\n 3 Full-Time Tenured Faculty      1993        25  \n 4 Full-Time Tenured Faculty      1995        24.8\n 5 Full-Time Tenured Faculty      1999        21.8\n 6 Full-Time Tenured Faculty      2001        20.3\n 7 Full-Time Tenured Faculty      2003        19.3\n 8 Full-Time Tenured Faculty      2005        17.8\n 9 Full-Time Tenured Faculty      2007        17.2\n10 Full-Time Tenured Faculty      2009        16.8\n11 Full-Time Tenured Faculty      2011        16.7\n12 Full-Time Tenure-Track Faculty 1975        16.1\n13 Full-Time Tenure-Track Faculty 1989        11.4\n14 Full-Time Tenure-Track Faculty 1993        10.2\n15 Full-Time Tenure-Track Faculty 1995         9.6\n16 Full-Time Tenure-Track Faculty 1999         8.9\n17 Full-Time Tenure-Track Faculty 2001         9.2\n18 Full-Time Tenure-Track Faculty 2003         8.8\n19 Full-Time Tenure-Track Faculty 2005         8.2\n20 Full-Time Tenure-Track Faculty 2007         8  \n```\n:::\n:::\n\n\nAnd now I'll just dump a couple other ways to identify the columns we want to pivot:\n\n-   In this one, we name the column years. It's like 2:12, but it's helpful when it's hard to see what number the column is. Also, this is a special case because the columns are numbers, so we need to use ' to wrap around the year. In the `mtcars` dataset, a similar approach would be `cyl:vs` to select all the variables between `cyl` and `vs`. You can also make a vector of variable names if they are not next to each other.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstaff_long3 = staff %>%\n  pivot_longer(\n    cols = '1975':'2011',    # columns to pivot\n    names_to = \"year\",       # name of new column for variable names\n    values_to = \"percentage\" # name of new column for values\n  ) %>%\n  mutate(percentage = as.numeric(percentage))\n\nhead(staff_long3, 20) # I'm asking R to show me the first 20 rows\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 Ã— 3\n   faculty_type                   year  percentage\n   <chr>                          <chr>      <dbl>\n 1 Full-Time Tenured Faculty      1975        29  \n 2 Full-Time Tenured Faculty      1989        27.6\n 3 Full-Time Tenured Faculty      1993        25  \n 4 Full-Time Tenured Faculty      1995        24.8\n 5 Full-Time Tenured Faculty      1999        21.8\n 6 Full-Time Tenured Faculty      2001        20.3\n 7 Full-Time Tenured Faculty      2003        19.3\n 8 Full-Time Tenured Faculty      2005        17.8\n 9 Full-Time Tenured Faculty      2007        17.2\n10 Full-Time Tenured Faculty      2009        16.8\n11 Full-Time Tenured Faculty      2011        16.7\n12 Full-Time Tenure-Track Faculty 1975        16.1\n13 Full-Time Tenure-Track Faculty 1989        11.4\n14 Full-Time Tenure-Track Faculty 1993        10.2\n15 Full-Time Tenure-Track Faculty 1995         9.6\n16 Full-Time Tenure-Track Faculty 1999         8.9\n17 Full-Time Tenure-Track Faculty 2001         9.2\n18 Full-Time Tenure-Track Faculty 2003         8.8\n19 Full-Time Tenure-Track Faculty 2005         8.2\n20 Full-Time Tenure-Track Faculty 2007         8  \n```\n:::\n:::\n\n\n-   This one is the same as our in-class code. We \"remove\" faculty type from our identified columns\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstaff_long4 = staff %>%\n  pivot_longer(\n    cols = -faculty_type,    # columns to pivot\n    names_to = \"year\",       # name of new column for variable names\n    values_to = \"percentage\" # name of new column for values\n  ) %>%\n  mutate(percentage = as.numeric(percentage))\n\nhead(staff_long4, 20) # I'm asking R to show me the first 20 rows\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 Ã— 3\n   faculty_type                   year  percentage\n   <chr>                          <chr>      <dbl>\n 1 Full-Time Tenured Faculty      1975        29  \n 2 Full-Time Tenured Faculty      1989        27.6\n 3 Full-Time Tenured Faculty      1993        25  \n 4 Full-Time Tenured Faculty      1995        24.8\n 5 Full-Time Tenured Faculty      1999        21.8\n 6 Full-Time Tenured Faculty      2001        20.3\n 7 Full-Time Tenured Faculty      2003        19.3\n 8 Full-Time Tenured Faculty      2005        17.8\n 9 Full-Time Tenured Faculty      2007        17.2\n10 Full-Time Tenured Faculty      2009        16.8\n11 Full-Time Tenured Faculty      2011        16.7\n12 Full-Time Tenure-Track Faculty 1975        16.1\n13 Full-Time Tenure-Track Faculty 1989        11.4\n14 Full-Time Tenure-Track Faculty 1993        10.2\n15 Full-Time Tenure-Track Faculty 1995         9.6\n16 Full-Time Tenure-Track Faculty 1999         8.9\n17 Full-Time Tenure-Track Faculty 2001         9.2\n18 Full-Time Tenure-Track Faculty 2003         8.8\n19 Full-Time Tenure-Track Faculty 2005         8.2\n20 Full-Time Tenure-Track Faculty 2007         8  \n```\n:::\n:::\n\n\n#### `across()`\n\nI really ran out of time before getting to this one. For now, you can look at the [examples from this site](https://dplyr.tidyverse.org/reference/across.html#ref-examples) to see the capabilities of `across()` . I invite you to try them out on the various datasets in our lecture.\n\n### 6. `tbl_summary()`: Trying to figure out how to change the median values to mean\n\nOh, wow! Turns out we solved it in class, but I made big mistake with my slides. The code for the table was in two places, but we fixed the one that was NOT running and showing on the slide!\n\nSo turns out, it worked!!\n\nHere's the code:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)  ## Need to load to use selec() and %>%\nlibrary(gtsummary)  ## Needed package for tbl_summary()\n\ndata(\"dds.discr\")\n\ndds.discr1 = dds.discr %>% \n  rename(SAB = gender, \n         R_E = ethnicity)\n\ndds.discr1 %>%\n  select(-id, -age.cohort) %>%\n  tbl_summary(label = c(age ~ \"Age\", \n                        R_E ~ \"Race/Ethnicity\", \n                        SAB ~ \"Sex Assigned at Birth\", \n                        expenditures ~ \"Expenditures\") ,\n              statistic = list(all_continuous() ~ \"{mean} ({sd})\"))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"myvwcypulf\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#myvwcypulf table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#myvwcypulf thead, #myvwcypulf tbody, #myvwcypulf tfoot, #myvwcypulf tr, #myvwcypulf td, #myvwcypulf th {\n  border-style: none;\n}\n\n#myvwcypulf p {\n  margin: 0;\n  padding: 0;\n}\n\n#myvwcypulf .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#myvwcypulf .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#myvwcypulf .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#myvwcypulf .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#myvwcypulf .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#myvwcypulf .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#myvwcypulf .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#myvwcypulf .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#myvwcypulf .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#myvwcypulf .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#myvwcypulf .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#myvwcypulf .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#myvwcypulf .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#myvwcypulf .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#myvwcypulf .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#myvwcypulf .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#myvwcypulf .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#myvwcypulf .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#myvwcypulf .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#myvwcypulf .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#myvwcypulf .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#myvwcypulf .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#myvwcypulf .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#myvwcypulf .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#myvwcypulf .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#myvwcypulf .gt_left {\n  text-align: left;\n}\n\n#myvwcypulf .gt_center {\n  text-align: center;\n}\n\n#myvwcypulf .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#myvwcypulf .gt_font_normal {\n  font-weight: normal;\n}\n\n#myvwcypulf .gt_font_bold {\n  font-weight: bold;\n}\n\n#myvwcypulf .gt_font_italic {\n  font-style: italic;\n}\n\n#myvwcypulf .gt_super {\n  font-size: 65%;\n}\n\n#myvwcypulf .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#myvwcypulf .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#myvwcypulf .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#myvwcypulf .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#myvwcypulf .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#myvwcypulf .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#myvwcypulf .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;N = 1,000&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>N = 1,000</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Age</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">23 (18)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Sex Assigned at Birth</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â Female</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">503 (50%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â Male</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">497 (50%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Expenditures</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">18,066 (19,543)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Race/Ethnicity</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â American Indian</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">4 (0.4%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â Asian</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">129 (13%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â Black</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">59 (5.9%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â Hispanic</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">376 (38%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â Multi Race</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">26 (2.6%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â Native Hawaiian</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">3 (0.3%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â Other</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">2 (0.2%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Â Â Â Â White not Hispanic</td>\n<td headers=\"stat_0\" class=\"gt_row gt_center\">401 (40%)</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"2\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> Mean (SD); n (%)</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n### 6. Are there benefits to ggplot compared to the base R graphing functions?\n\nThe main benefit I see for `ggplot` is that the syntax and grammar of our coding in `tidyr` and `dplyr` is very similar to `ggplot`. Your effort in strengthening one will help with the others.\n\nI am certainly not going to force you to use `ggplot` over base R. At the end of the day, it is really whatever makes the most sense to you. I will say: `ggplot2` seems to be where most statisticians and epidemiologists are headed. And I really believe that `ggplot` is more efficient with coding.\n\n## Statistician of the Week: Regina Nuzzo\n\n::: grid\n::: g-col-4\n\n::: {.cell preview='true'}\n::: {.cell-output-display}\n![Regina Nuzzo](../images/stat_of_week/nuzzo.jpg){fig-alt='Image credit: Regina Nuzzo https://www.reginanuzzo.com/'}\n:::\n:::\n\n:::\n\n::: g-col-8\nDr. Nuzzo received her PhD in Statistics from Stanford University and is now Professor of Science, Technology, & Mathematics at <a href = \"https://gallaudet.edu/\" target = \"_blank\">Gallaudet University</a>. Gallaudet University, federally funded and located in Washington, DC, is the only higher education institution where all programs are designed for the education of the deaf and hard of hearing. Dr. Nuzzo teaches statistics using American Sign Language.\\\nShe is the <a href = \"https://www.amstat.org/news-listing/2021/10/08/asa-welcomes-regina-nuzzo-as-senior-advisor-for-statistics-communication-and-media-innovation\" target = \"_blank\">Senior Advisor for Statistics Communication and Media Innovation at the American Statistical Association</a> and a freelance writer.\n:::\n:::\n\n#### Topics covered\n\nDr. Nuzzo is a statistician and a science journalist. Her work has appeared in *Nature*, *Los Angeles Times*, *New York Times*, *Reader's Digest*, *New Scientist*, and *Scientific American*. Most of her work is in the \"Health\" or \"Science\" sections of the aforementioned outlets. Primarily, she works to help lay-audiences understand science and statistics in particular. She earned the American Statistical Association's 2014 Excellence in Statistical Reporting Award for her article on p-values in *Nature*. Her work led to the <a href = \"https://www.tandfonline.com/doi/full/10.1080/00031305.2016.1154108\" target = \"_blank\">ASA's statement on p-values</a>.\n\n#### Relevant work\n\n-   Nuzzo, R. <a href = \"https://doi.org/10.1038/506150a\" target = \"_blank\">\"Scientific method: Statistical errors.\"</a> Nature 506, 150--152 (2014).\n-   Nuzzo, R. <a href = \"https://www.nih.gov/about-nih/what-we-do/science-health-public-trust/perspectives/science-health-public-trust/tips-communicating-statistical-significance\" target = \"_blank\">\"Tips for Communicating Statistical Significance.\"</a> Science, Health, and Public Trust, National Institutes of Health, 2018.\n-   Nuzzo, R. <a href = \"https://www.latimes.com/health/la-he-mating8-2008dec08-story.html\" target = \"_blank\">\"Vying for a soul mate? Psych out the competition with science.\"</a> Health: Features. Los Angeles Times, 2008.\n\n#### Outside links\n\n-   [Wikipedia](https://en.wikipedia.org/wiki/Regina_Nuzzo)\n-   [academic](https://gallaudet.edu/personnel/regina-nuzzo/)\n-   [Linkedin](https://www.linkedin.com/in/reginanuzzo/)\n-   [personal](https://www.reginanuzzo.com/)\n\n**Please note the statisticians of the week are taken directly from the [CURV project by Jo Hardin](https://hardin47.github.io/CURV/).** I also invite you to check out this [youtube video](https://www.youtube.com/watch?v=L9GUgL0f_Bc) of her Women Rise Keynote address where she discusses her hearing impairment, career growth, and her work with p-values.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
{
  "hash": "572cf21f00dd80e6e90f5e31e8168adb",
  "result": {
    "markdown": "---\ntitle: \"Categorical Covariates\"\nauthor: \"Meike Niederhausen and Nicky Wakim\"\ntitle-slide-attributes:\n    data-background-color: \"#213c96\"\ndate: \"02/12/2024\"\ncategories: [\"Week 6\"]\nformat: \n  revealjs:\n    theme: [default, simple_NW.scss]\n    chalkboard: true\n    slide-number: true\n    show-slide-number: all\n    width: 1955\n    height: 1100\n    footer: Categorical Covariates\n    html-math-method: mathjax\n    highlight-style: ayu\nexecute:\n  freeze: auto  # re-render only when source changes\n---\n\n\n\n::: {.cell}\n\n:::\n\n\n# Learning Objectives\n\n1.  Understand why we need a new way to code categorical variables compared to continuous variables\n2.  Write the regression equation for a categorical variable using reference cell coding\n3.  Calculate and interpret coefficients for reference cell coding\n4.  Change the reference level in a categorical variable for reference cell coding\n5.  Create new variables and interpret coefficient for ordinal / scoring coding\n\n## Let's map that to our regression analysis process\n\n::: box\n![](images/arrow2.png){.absolute top=\"13.5%\" right=\"62.1%\" width=\"155\"} ![](images/arrow2.png){.absolute top=\"13.5%\" right=\"28.4%\" width=\"155\"}![](images/arrow_back4.png){.absolute top=\"7.5%\" right=\"30.5%\" width=\"820\"} ![](images/arrow_down.png){.absolute top=\"60.5%\" right=\"48%\" width=\"85\"}\n\n::: columns\n::: {.column width=\"30%\"}\n::: RAP1\n::: RAP1-title\nModel Selection\n:::\n\n::: RAP1-cont\n-   Building a model\n\n-   Selecting variables\n\n-   Prediction vs interpretation\n\n-   Comparing potential models\n:::\n:::\n:::\n\n::: {.column width=\"4%\"}\n:::\n\n::: {.column width=\"30%\"}\n::: RAP2\n::: RAP2-title\nModel Fitting\n:::\n\n::: RAP2-cont\n-   Find best fit line\n\n-   Using OLS in this class\n\n-   Parameter estimation\n\n-   Categorical covariates\n\n-   Interactions\n:::\n:::\n:::\n\n::: {.column width=\"4%\"}\n:::\n\n::: {.column width=\"30%\"}\n::: RAP3\n::: RAP3-title\nModel Evaluation\n:::\n\n::: RAP3-cont\n-   Evaluation of model fit\n-   Testing model assumptions\n-   Residuals\n-   Transformations\n-   Influential points\n-   Multicollinearity\n:::\n:::\n:::\n:::\n:::\n\n::: RAP4\n::: RAP4-title\nModel Use (Inference)\n:::\n\n::: RAP4-cont\n::: columns\n::: {.column width=\"50%\"}\n-   Inference for coefficients\n-   Hypothesis testing for coefficients\n:::\n\n::: {.column width=\"50%\"}\n-   Inference for expected $Y$ given $X$\n:::\n:::\n:::\n:::\n\n## Another way of thinking about SSY, SSR, and SSE\n\n::: columns\n::: {.column width=\"50%\"}\n![](10_Cat_covariates/SSY_SSE_SSR.png){fig-align=\"center\" width=\"1200\"}\n:::\n\n::: {.column width=\"50%\"}\n:::\n:::\n\n# Learning Objectives\n\n::: lob\n1.  Understand why we need a new way to code categorical variables compared to continuous variables\n:::\n2.  Write the regression equation for a categorical variable using reference cell coding\n3.  Calculate and interpret coefficients for reference cell coding\n4.  Change the reference level in a categorical variable for reference cell coding\n5.  Create new variables and interpret coefficient for ordinal / scoring coding\n\n## Still looking at Gapminder Life Expectancy data\n\n-   We will look at life expectancy vs. these world regions\n\n-   [Gapminder uses four world regions](https://www.gapminder.org/fw/four-regions/)\n\n    -   Africa\n    -   The Americas\n    -   Asia\n    -   Europe\n\n## Linear regression with a categorical covariate\n\n::: columns\n::: {.column width=\"33%\"}\nBad option for visualization:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(gapm2, aes(x = four_regions, y = LifeExpectancyYrs)) +\n  geom_point() +\n  labs(x = \"World region\", \n       y = \"Country life expectancy (years)\",\n       title = \"Life expectancy vs. world region\") +\n  theme(axis.title = element_text(size = 20), \n        axis.text = element_text(size = 20), \n        title = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-3-1.png){fig-align='center' width=672}\n:::\n:::\n\n:::\n\n::: {.column width=\"33%\"}\nGood option for visualization:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(gapm2, aes(x = four_regions, y = LifeExpectancyYrs)) +\n  geom_jitter(size = 1, alpha = .6, width = 0.2) +\n  stat_summary(fun = mean, geom = \"point\", size = 8, shape = 18) +\n  labs(x = \"World region\", \n       y = \"Country life expectancy (years)\",\n       title = \"Life expectancy vs. world region\",\n       caption = \"Diamonds = region averages\") +\n  theme(axis.title = element_text(size = 20), \n        axis.text = element_text(size = 20), \n        title = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-4-1.png){fig-align='center' width=672}\n:::\n:::\n\n:::\n\n::: {.column width=\"33%\"}\nGood option for visualization:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(gapm2, aes(x = four_regions, y = LifeExpectancyYrs)) +\n  geom_boxplot() +\n  labs(x = \"World region\", \n       y = \"Country life expectancy (years)\",\n       title = \"Life expectancy vs. world region\") +\n  theme(axis.title = element_text(size = 20), \n        axis.text = element_text(size = 20), \n        title = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-5-1.png){fig-align='center' width=672}\n:::\n:::\n\n:::\n:::\n\n## Linear regression with a categorical covariate\n\n::: columns\n::: {.column width=\"50%\"}\n-   When using a categorical covariate/predictor (that is not ordered),\n\n    -   We do **NOT**, technically, find a best-fit line\n\n-   Instead we model the **means** of the outcome\n\n    -   For the different levels of the categorical variable\n\n-   In 511, we used Kruskal-Wallis test and our ANOVA table to test if groups means were statistically different from one another\n\n-   We can do this [using linear models](https://lindeloev.github.io/tests-as-linear/linear_tests_cheat_sheet.pdf) AND we can include other variable in the model\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-6-1.png){fig-align='center' width=672}\n:::\n:::\n\n:::\n:::\n\n## There are different ways to code categorical variables\n\n-   Reference cell coding (sometimes called dummy coding)\n    -   Compares each level of a variable to the omitted (reference) level\n-   Effect coding (sometimes called sum coding or deviation coding)\n    -   Compares deviations from the grand mean\n-   Ordinal encoding (sometimes called scoring)\n    -   Categories have a natural, even spaced ordering\n\nIf you want to learn more about these and other coding schemes:\n\n-   [Coding Systems for Categorical Variables in Regression Analysis](https://stats.oarc.ucla.edu/spss/faq/coding-systems-for-categorical-variables-in-regression-analysis-2/)\n-   [Categorical Data Encoding Techniques](https://medium.com/aiskunks/categorical-data-encoding-techniques-d6296697a40f#:~:text=Ordinal%20Encoding%20is%20used%20when,variable%20have%20a%20Natural%20Ordering.&text=In%20this%20method%2C%20the%20categories,2%2C%20and%203%2C%20respectively.)\n-   [Coding Schemes for Categorical Variables](https://phillipalday.com/stats/coding.html)\n\n## Building the regression equation: problem with a single coefficient\n\n::: columns\n::: column\n**Previously: simple linear regression**\n\n-   Outcome $Y$ = numerical variable\n-   Predictor $X$ = numerical variable\n\nThe regression (best-fit) line is: $$\\widehat{Y} = \\widehat{\\beta}_0 + \\widehat{\\beta}_1 \\cdot X $$\n:::\n\n::: column\n**New: what if the explanatory variable is categorical?**\n\n*Naively*, we could write: $\\widehat{Y} = \\widehat{\\beta}_0 + \\widehat{\\beta}_1 \\cdot X$\n\nOr, with our variables: $$\\widehat{\\textrm{LE}} = \\widehat{\\beta}_0 + \\widehat{\\beta}_1 \\cdot \\textrm{WR} $$\n\n-   But what does $\\textrm{WR}$ (world regions) mean in this equation?\n\n    -   What values can it take? How do we represent each region?\n:::\n:::\n\n## Building the regression equation: how do we map categories to means?\n\n-   If we only have world region in our model and want to map it to an expected life expectancy...\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n:::\n\n\n-   We want to create a function that can map each region to life expectancy\n\n-   If in Africa: $$\\widehat{LE} = 61.32$$\n\n-   If in the Americas: $$\\widehat{LE} = 74.64$$\n\n-   If in Asia: $$\\widehat{LE} = 71.7$$\n\n-   If in Europe: $$\\widehat{LE} = 77.61$$\n\n-   Can we make one equation for $\\widehat{LE}$ by putting the \"if\" statements within the equation?\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-8-1.png){fig-align='center' width=768}\n:::\n:::\n\n:::\n:::\n\n## Building the regression equation: Indicator functions\n\n-   In order to represent each region in the equation, we need to introduce a new function:\n\n    -   Indicator function:\n\n    $$I(X = x) \\text{ or } I(x) = \n    \\left\\{\n    \\begin{array}{@{}ll@{}}\n     1, & \\text{if}\\ X = x \\\\\n      0, & \\text{else}\n     \\end{array}\\right. $$\n\n    -   This basically a binary yes/no if $X$ is a specific value $x$\n\n-   For example, if we want to identify a country as being in the Americas region, we can make:\n\n    $$I(WR = \\text{Americas}) \\text{ or }I(\\text{Americas}) = \n    \\left\\{\n    \\begin{array}{@{}ll@{}}\n     1, & \\text{if}\\ WR = \\text{Americas} \\\\\n      0, & \\text{else}\n     \\end{array}\\right. $$\n\n## Poll Everywhere Question\n\n\n\n# Learning Objectives\n\n1.  Understand why we need a new way to code categorical variables compared to continuous variables\n\n::: lob\n2.  Write the regression equation for a categorical variable using reference cell coding\n:::\n\n3.  Calculate and interpret coefficients for reference cell coding\n4.  Change the reference level in a categorical variable for reference cell coding\n5.  Create new variables and interpret coefficient for ordinal / scoring coding\n\n## Building the regression equation: Indicators in our equation\n\n::: columns\n::: {.column width=\"50%\"}\n$$\\begin{aligned}\n\\widehat{\\textrm{LE}} = & 61.32 \\cdot I(\\text{Africa}) + 74.64 \\cdot I(\\text{Americas}) + \\\\ &71.7 \\cdot I(\\text{Asia}) + 77.61 \\cdot I(\\text{Europe})\n\\end{aligned}$$\n\n-   However, a linear regression equation still requires an intercept!\n\n    -   So one of our regions need to become our \"reference\" group\n    -   We'll use Africa as our reference\n    -   That means we need to adjust all the numbers\n\n$$\\begin{aligned}\n\\widehat{\\textrm{LE}} = & 61.32 + 13.32 \\cdot I(\\text{Americas}) + \\\\ &10.38 \\cdot I(\\text{Asia}) + 16.29 \\cdot I(\\text{Europe}) \\\\\n\\widehat{\\textrm{LE}} = & \\widehat\\beta_0 + \\widehat\\beta_1 \\cdot I(\\text{Americas}) + \\\\ & \\widehat\\beta_2 \\cdot I(\\text{Asia}) + \\widehat\\beta_3 \\cdot I(\\text{Europe})\n\\end{aligned}$$\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-9-1.png){fig-align='center' width=768}\n:::\n:::\n\n:::\n:::\n\n## Viewing the regression equation another way\n\n$$\\widehat{\\textrm{LE}} =  \\widehat\\beta_0 + \\widehat\\beta_1 \\cdot I(\\text{Americas}) + \\widehat\\beta_2 \\cdot I(\\text{Asia}) + \\widehat\\beta_3 \\cdot I(\\text{Europe})$$\n\n::: columns\n::: {.column width=\"60%\"}\n+--------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+\n| World region | Regression equation for WR                                                                                                                                  | Average Life Expectancy for WR                              |\n+==============+=============================================================================================================================================================+=============================================================+\n| Africa       | $\\begin{aligned} \\widehat{\\textrm{LE}} = &\\widehat\\beta_0 + \\widehat\\beta_1 \\cdot 0 + \\\\ & \\widehat\\beta_2 \\cdot 0 + \\widehat\\beta_3 \\cdot 0 \\end{aligned}$ | $\\widehat{\\textrm{LE}} = \\widehat\\beta_0$                   |\n+--------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+\n| Americas     | $\\begin{aligned} \\widehat{\\textrm{LE}} = &\\widehat\\beta_0 + \\widehat\\beta_1 \\cdot 1+ \\\\ & \\widehat\\beta_2 \\cdot 0 + \\widehat\\beta_3 \\cdot 0 \\end{aligned}$  | $\\widehat{\\textrm{LE}} = \\widehat\\beta_0 + \\widehat\\beta_1$ |\n+--------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+\n| Asia         | $\\begin{aligned} \\widehat{\\textrm{LE}} = &\\widehat\\beta_0 + \\widehat\\beta_1 \\cdot 0 + \\\\ & \\widehat\\beta_2 \\cdot 1 + \\widehat\\beta_3 \\cdot 0 \\end{aligned}$ | $\\widehat{\\textrm{LE}} = \\widehat\\beta_0 + \\widehat\\beta_2$ |\n+--------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+\n| Europe       | $\\begin{aligned} \\widehat{\\textrm{LE}} = &\\widehat\\beta_0 + \\widehat\\beta_1 \\cdot 0 + \\\\ & \\widehat\\beta_2 \\cdot 0 + \\widehat\\beta_3 \\cdot 1 \\end{aligned}$ | $\\widehat{\\textrm{LE}} = \\widehat\\beta_0 + \\widehat\\beta_3$ |\n+--------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+\n:::\n\n::: {.column width=\"40%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-10-1.png){fig-align='center' width=768}\n:::\n:::\n\n:::\n:::\n\n# Learning Objectives\n\n1.  Understand why we need a new way to code categorical variables compared to continuous variables\n2.  Write the regression equation for a categorical variable using reference cell coding\n\n::: lob\n3.  Calculate and interpret coefficients for reference cell coding\n:::\n\n4.  Change the reference level in a categorical variable for reference cell coding\n5.  Create new variables and interpret coefficient for ordinal / scoring coding\n\n## Interpretation of regression equation coefficients\n\n-   Remember: expected, mean, and average are interchangeable\n\n+---------------------+--------------------------------------------------------------------+\n| Coefficient         | Interpretation                                                     |\n+=====================+====================================================================+\n| $\\widehat{\\beta}_0$ | Expected/mean/average life expectancy of Africa                    |\n+---------------------+--------------------------------------------------------------------+\n| $\\widehat{\\beta}_1$ | Difference in mean life expectancy of the Americas and Africa -OR- |\n|                     |                                                                    |\n|                     | Mean difference in life expectancy of the Americas and Africa      |\n+---------------------+--------------------------------------------------------------------+\n| $\\widehat{\\beta}_2$ | Difference in mean life expectancy between Asia and Africa -OR-    |\n|                     |                                                                    |\n|                     | Mean difference in life expectancy between Asia and Africa         |\n+---------------------+--------------------------------------------------------------------+\n| $\\widehat{\\beta}_3$ | Difference in mean life expectancy between Europe and Africa -OR-  |\n|                     |                                                                    |\n|                     | Mean difference in life expectancy between Europe and Africa       |\n+---------------------+--------------------------------------------------------------------+\n\n## Poll Everywhere Question 1\n\n\n\n## Regression table with `lm()` function\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel1 <- lm(LifeExpectancyYrs ~ four_regions, data = gapm2)\ntidy(model1, conf.int=T) %>% gt() %>% tab_options(table.font.size = 38) %>% \n  fmt_number(decimals = 2)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"cgpqdrsoky\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#cgpqdrsoky table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#cgpqdrsoky thead, #cgpqdrsoky tbody, #cgpqdrsoky tfoot, #cgpqdrsoky tr, #cgpqdrsoky td, #cgpqdrsoky th {\n  border-style: none;\n}\n\n#cgpqdrsoky p {\n  margin: 0;\n  padding: 0;\n}\n\n#cgpqdrsoky .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 38px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#cgpqdrsoky .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#cgpqdrsoky .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#cgpqdrsoky .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#cgpqdrsoky .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#cgpqdrsoky .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#cgpqdrsoky .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#cgpqdrsoky .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#cgpqdrsoky .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#cgpqdrsoky .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#cgpqdrsoky .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#cgpqdrsoky .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#cgpqdrsoky .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#cgpqdrsoky .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#cgpqdrsoky .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cgpqdrsoky .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#cgpqdrsoky .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#cgpqdrsoky .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#cgpqdrsoky .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cgpqdrsoky .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#cgpqdrsoky .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cgpqdrsoky .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#cgpqdrsoky .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cgpqdrsoky .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cgpqdrsoky .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cgpqdrsoky .gt_left {\n  text-align: left;\n}\n\n#cgpqdrsoky .gt_center {\n  text-align: center;\n}\n\n#cgpqdrsoky .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#cgpqdrsoky .gt_font_normal {\n  font-weight: normal;\n}\n\n#cgpqdrsoky .gt_font_bold {\n  font-weight: bold;\n}\n\n#cgpqdrsoky .gt_font_italic {\n  font-style: italic;\n}\n\n#cgpqdrsoky .gt_super {\n  font-size: 65%;\n}\n\n#cgpqdrsoky .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#cgpqdrsoky .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#cgpqdrsoky .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#cgpqdrsoky .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#cgpqdrsoky .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#cgpqdrsoky .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#cgpqdrsoky .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\">estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"std.error\">std.error</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\">conf.low</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.high\">conf.high</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">61.32</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">0.76</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">80.26</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">59.81</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">62.83</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">four_regionsAmericas</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">13.32</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">1.23</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">10.83</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">10.89</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">15.74</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">four_regionsAsia</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">10.38</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">1.08</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">9.61</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">8.25</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">12.51</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">four_regionsEurope</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">16.29</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">1.13</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">14.37</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">14.05</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">18.52</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n$$\\widehat{\\textrm{LE}} = 61.32 + 13.32 \\cdot I(\\text{Americas}) + 10.38 \\cdot I(\\text{Asia}) + 16.29 \\cdot I(\\text{Europe})$$\n\n-   Which world region did R choose as the reference level?\n\n-   How you would calculate the mean life expectancies of world regions using *only* the results from the regression table?\n\n## Bringing in the numbers/units/95% CI\n\n+---------------------+----------------------------------------------------------------------------------------------------------------------+\n| Coefficient         | Interpretation                                                                                                       |\n+=====================+======================================================================================================================+\n| $\\widehat{\\beta}_0$ | Average life expectancy of countries in Africa is 61.32 years (95% CI: 59.81, 62.83).                                |\n+---------------------+----------------------------------------------------------------------------------------------------------------------+\n| $\\widehat{\\beta}_1$ | The difference in mean life expectancy between countries in the Americas and Africa is 13.32 (95% CI: 10.89, 15.74). |\n+---------------------+----------------------------------------------------------------------------------------------------------------------+\n| $\\widehat{\\beta}_2$ | The difference in mean life expectancy between countries in the Americas and Africa is 10.38 (95% CI: 8.25, 12.51).  |\n+---------------------+----------------------------------------------------------------------------------------------------------------------+\n| $\\widehat{\\beta}_3$ | The difference in mean life expectancy between countries in Europe and Africa is 18.52 (95% CI: 14.05, 18.52).       |\n+---------------------+----------------------------------------------------------------------------------------------------------------------+\n\n \n\n-   Don't forget that we can use the confidence intervals to assess whether the mean difference with Africa is significant or not\n\n## We can also use R to report each region's average life expectancy\n\n**Find the 95% CI's for the mean life expectancy for the Americas, Asia, and Europe**\n\n-   Use the base R `predict()` function (see Lesson 4 for more info)\n-   Requires specification of a `newdata` \"value\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnewdata <- data.frame(four_regions = c(\"Africa\", \"Americas\", \"Asia\", \"Europe\")) \n```\n:::\n\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\n(pred = predict(model1, \n                newdata=newdata, \n                interval=\"confidence\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       fit      lwr      upr\n1 61.32037 59.81287 62.82787\n2 74.63824 72.73841 76.53806\n3 71.70185 70.19435 73.20935\n4 77.60889 75.95751 79.26027\n```\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n::: fact\n::: fact-title\nInterpretations\n:::\n\n::: fact-cont\n-   The average life expectancy for countries in the Americas is 74.64 years (95% CI: 72.74, 76.54).\n-   The average life expectancy for countries in Asia is 71.7 years (95% CI: 70.19, 73.21).\n-   The average life expectancy for countries in Europe is 77.61 years (95% CI: 75.96, 79.26).\n:::\n:::\n:::\n:::\n\n## Another way to look at coefficient values\n\n$$\\widehat{\\textrm{LE}} =  \\widehat\\beta_0 + \\widehat\\beta_1 \\cdot I(\\text{Americas}) +  \\widehat\\beta_2 \\cdot I(\\text{Asia}) + \\widehat\\beta_3 \\cdot I(\\text{Europe})$$\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# means of each level of `four_regions`\ngapm2_ave <- gapm2 %>% \n  group_by(four_regions) %>% \n  summarise(\n    life_ave = mean(LifeExpectancyYrs))\n\n# mean of `africa`\nmean_africa <- gapm2_ave %>% \n  filter(four_regions == \"Africa\") %>% \n  pull(life_ave)\n\n# differences in means between levels of `four_regions` and `africa`\ngapm2_ave_diff <- gapm2_ave %>% \n  mutate(`Difference with Africa` = life_ave - mean_africa) %>%\n  rename(`World regions` = four_regions, \n         `Average life expectancy` = life_ave)\n\n# At the beginning of the Rmd we loaded knitr, which is where the kable command is from\n# library(knitr)\ngapm2_ave_diff %>% kable(\n  digits = 1,\n  format = \"markdown\"\n  ) \n```\n\n::: {.cell-output-display}\n|World regions | Average life expectancy| Difference with Africa|\n|:-------------|-----------------------:|----------------------:|\n|Africa        |                    61.3|                    0.0|\n|Americas      |                    74.6|                   13.3|\n|Asia          |                    71.7|                   10.4|\n|Europe        |                    77.6|                   16.3|\n:::\n:::\n\n\n$$\\widehat{\\textrm{LE}} = 61.32 + 13.32 \\cdot I(\\text{Americas}) + 10.38 \\cdot I(\\text{Asia}) + 16.29 \\cdot I(\\text{Europe})$$\n\n# 10 minute break here?\n\n# Learning Objectives\n\n1.  Understand why we need a new way to code categorical variables compared to continuous variables\n2.  Write the regression equation for a categorical variable using reference cell coding\n3.  Calculate and interpret coefficients for reference cell coding\n\n::: lob\n4.  Change the reference level in a categorical variable for reference cell coding\n:::\n\n5.  Create new variables and interpret coefficient for ordinal / scoring coding\n\n## Reference levels\n\n**Why is `Africa` not one of the variables in the regression equation?**\n\n$$\\widehat{\\textrm{LE}} =  \\widehat\\beta_0 + \\widehat\\beta_1 \\cdot I(\\text{Americas}) +  \\widehat\\beta_2 \\cdot I(\\text{Asia}) + \\widehat\\beta_3 \\cdot I(\\text{Europe})$$\n\n-   Categorical variables have to have at least 2 levels. If they have 2 levels, we call them *binary*\n\n \n\n-   We choose one level as our **reference level** to which all other levels of the categorical variable are compared\n\n    -   The levels $\\text{Americas}, \\text{Asia}, \\text{Europe}$ are compared to the level $\\text{Africa}$\n\n \n\n-   The **intercept** of the regression equation is the *mean of the outcome restricted to the reference level*\n\n    -   Recall that the intercept is the mean life expectancy of Africa, which was our reference level\n\n \n\n-   **If the categorical variable has** $r$ levels, then we need $r-1$ variables/coefficients to model it!\n\n## We can change the reference level to `Europe` (1/2)\n\n-   Suppose we want to compare the mean life expectancies of world regions to the $\\text{Europe}$ level instead of $\\text{Africa}$\n\n-   Below is the estimated regression equation for when $Africa$ is the reference level\n\n$$\\widehat{\\textrm{LE}} =  \\widehat\\beta_0 + \\widehat\\beta_1 \\cdot I(\\text{Americas}) +  \\widehat\\beta_2 \\cdot I(\\text{Asia}) + \\widehat\\beta_3 \\cdot I(\\text{Europe})$$\n\n-   Update the variables to make $Europe$ the reference level:\n\n$$\\widehat{\\textrm{LE}} =  \\widehat\\beta_0 + \\widehat\\beta_1 \\cdot I(\\text{Africa}) +  \\widehat\\beta_2 \\cdot I(\\text{Americas}) + \\widehat\\beta_3 \\cdot I(\\text{Asia})$$\n\n## We can change the reference level to `Europe` (2/2)\n\n-   Now update the coefficients of the regression equation using the output below.\n\n\n::: {.cell}\n::: {.cell-output-display}\n|World regions | Average life expectancy| Difference with Europe|\n|:-------------|-----------------------:|----------------------:|\n|Africa        |                   61.32|                 -16.29|\n|Americas      |                   74.64|                  -2.97|\n|Asia          |                   71.70|                  -5.91|\n|Europe        |                   77.61|                   0.00|\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n$$\\widehat{\\textrm{LE}} = 77.61 -16.29 \\cdot I(\\text{Africa}) -2.97 \\cdot I(\\text{Americas}) -5.91 \\cdot I(\\text{Asia})$$\n\n## R: Change reference level to `europe` (1/2)\n\n-   `four_regions` data type was originally a `character` - check this with `str()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(gapm$four_regions) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n chr [1:195] \"asia\" \"europe\" \"africa\" \"europe\" \"africa\" \"americas\" ...\n```\n:::\n:::\n\n\n-   In order to change the reference level, we need to convert it to data type `factor`\n\n    -   I also did this at the beginning to capitalize each region\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapm_ex = gapm %>% \n mutate(four_regions = factor(four_regions, \n                              levels = c(\"africa\", \"americas\", \"asia\", \"europe\"), \n                              labels = c(\"Africa\", \"Americas\", \"Asia\", \"Europe\")))\nstr(gapm_ex$four_regions) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Factor w/ 4 levels \"Africa\",\"Americas\",..: 3 4 1 4 1 2 2 4 3 4 ...\n```\n:::\n\n```{.r .cell-code}\nlevels(gapm_ex$four_regions) # order of factor levels\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Africa\"   \"Americas\" \"Asia\"     \"Europe\"  \n```\n:::\n:::\n\n\n## R: Change reference level to `europe` (2/2)\n\n-   Now change the order of the factor levels\n-   Code below uses `fct_relevel()` from the `forcats` package that gets loaded as a part of the `tidyverse`\n-   *Any levels not mentioned will be left in their existing order, after the explicitly mentioned levels.*\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapm2 <- gapm2 %>% \n  mutate(four_regions = \n      fct_relevel(four_regions, \"Europe\"))\n\nlevels(gapm2$four_regions)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Europe\"   \"Africa\"   \"Americas\" \"Asia\"    \n```\n:::\n:::\n\n\n## R: Run model with `europe` as the reference level\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlevels(gapm2$four_regions)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Europe\"   \"Africa\"   \"Americas\" \"Asia\"    \n```\n:::\n\n```{.r .cell-code}\nmodel2 <- lm(LifeExpectancyYrs ~ four_regions, data = gapm2)\ntidy(model2) %>% gt() %>% tab_options(table.font.size = 35) %>% fmt_number(decimals = 2)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"urgkpvidif\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#urgkpvidif table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#urgkpvidif thead, #urgkpvidif tbody, #urgkpvidif tfoot, #urgkpvidif tr, #urgkpvidif td, #urgkpvidif th {\n  border-style: none;\n}\n\n#urgkpvidif p {\n  margin: 0;\n  padding: 0;\n}\n\n#urgkpvidif .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 35px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#urgkpvidif .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#urgkpvidif .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#urgkpvidif .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#urgkpvidif .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#urgkpvidif .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#urgkpvidif .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#urgkpvidif .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#urgkpvidif .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#urgkpvidif .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#urgkpvidif .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#urgkpvidif .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#urgkpvidif .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#urgkpvidif .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#urgkpvidif .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#urgkpvidif .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#urgkpvidif .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#urgkpvidif .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#urgkpvidif .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#urgkpvidif .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#urgkpvidif .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#urgkpvidif .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#urgkpvidif .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#urgkpvidif .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#urgkpvidif .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#urgkpvidif .gt_left {\n  text-align: left;\n}\n\n#urgkpvidif .gt_center {\n  text-align: center;\n}\n\n#urgkpvidif .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#urgkpvidif .gt_font_normal {\n  font-weight: normal;\n}\n\n#urgkpvidif .gt_font_bold {\n  font-weight: bold;\n}\n\n#urgkpvidif .gt_font_italic {\n  font-style: italic;\n}\n\n#urgkpvidif .gt_super {\n  font-size: 65%;\n}\n\n#urgkpvidif .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#urgkpvidif .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#urgkpvidif .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#urgkpvidif .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#urgkpvidif .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#urgkpvidif .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#urgkpvidif .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\">estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"std.error\">std.error</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">77.61</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">0.84</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">92.72</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">four_regionsAfrica</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">−16.29</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">1.13</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">−14.37</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">four_regionsAmericas</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">−2.97</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">1.28</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">−2.33</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.02</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">four_regionsAsia</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">−5.91</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">1.13</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">−5.21</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n$$\\begin{aligned}\\widehat{\\textrm{LE}} &=  \\widehat\\beta_0 + \\widehat\\beta_1 \\cdot I(\\text{Africa}) +  \\widehat\\beta_2 \\cdot I(\\text{Americas}) + \\widehat\\beta_3 \\cdot I(\\text{Asia}) \\\\ \\widehat{\\textrm{LE}} &= 77.61 -16.29 \\cdot I(\\text{Africa}) -2.97 \\cdot I(\\text{Americas}) -5.91 \\cdot I(\\text{Asia}) \\end{aligned}$$\n\n## Fitted values & residuals\n\n::: columns\n::: {.column width=\"40%\"}\nSimilar to as before:\n\n-   **Observed values** $y$ are the values in the dataset\n\n-   **Fitted values** $\\widehat{y}$ are the values that ~~fall on the best-fit line for a specific value of x~~ are the *means of the outcome stratified by the categorical predictor's levels*\n\n-   **Residuals** $y - \\widehat{y}$ are the differences between the two\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-21-1.png){fig-align='center' width=768}\n:::\n:::\n\n:::\n:::\n\n## Fitted values are the same as the means\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm1_aug <- augment(model1)\n\nggplot(m1_aug, aes(x = four_regions, y = .fitted)) + geom_point() +\n  theme(axis.text = element_text(size = 22), axis.title = element_text(size = 22))\n```\n\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-22-1.png){fig-align='center' width=576}\n:::\n:::\n\n\n\n## Residual plots (now the spread within each region)\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(m1_aug, aes(x=.resid)) + geom_histogram() + \n  theme(axis.text = element_text(size = 22), title = element_text(size = 22))\n```\n\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-23-1.png){fig-align='center' width=576}\n:::\n:::\n\n\n## Poll Everywhere Question 2\n\n\n# Learning Objectives\n\n1.  Understand why we need a new way to code categorical variables compared to continuous variables\n2.  Write the regression equation for a categorical variable using reference cell coding\n3.  Calculate and interpret coefficients for reference cell coding\n4.  Change the reference level in a categorical variable for reference cell coding\n\n::: lob\n5.  Create new variables and interpret coefficient for ordinal / scoring coding\n:::\n\n## Let's look at life expectancy vs. four income levels\n\n-   [Gapminder discusses individual income levels](https://www.gapminder.org/fw/income-levels/)\n\n \n\n-   **Income levels for a country** is based on average GDP per capita, and grouped into:\n\n    -   Low income\n    \n    -   Lower middle income\n    \n    -   Upper middle income\n    \n    -   High income\n\n## Visualizing the ordinal variable, income levels\n\n::: columns\n::: {.column width=\"40%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-24-1.png){fig-align='center' width=768}\n:::\n:::\n\n:::\n\n::: {.column width=\"60%\"}\nA few changes needed:\n\n-   Put the income levels in order\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapm2 = gapm2 %>%\n mutate(income_levels = factor(income_levels, \n            ordered = T, \n            levels = c(\"Low income\", \n            \"Lower middle income\", \n            \"Upper middle income\", \n            \"High income\")))\n```\n:::\n\n\n-   Make the income levels readable\n\n    -   [How to Rotate Axis Labels in ggplot2?](https://www.r-bloggers.com/2021/09/how-to-rotate-axis-labels-in-ggplot2/)\n:::\n:::\n\n## Much better: Visualizing the ordinal variable, income levels {.smaller}\n\n::: columns\n::: {.column width=\"60%\"}\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(gapm2, aes(x = income_levels, y = LifeExpectancyYrs)) +\n  geom_jitter(size = 1, alpha = .6, width = 0.2) +\n  stat_summary(fun = mean, geom = \"point\", size = 8, shape = 18) +\n  labs(x = \"Income levels\", \n       y = \"Country life expectancy (years)\",\n       title = \"Life expectancy vs. income levels\",\n       caption = \"Diamonds = Income level averages\") +\n  theme(axis.title = element_text(size = 20), \n        axis.text = element_text(size = 20), \n        title = element_text(size = 20), \n        axis.text.x=element_text(angle = 20, vjust = 1, hjust=1))\n```\n:::\n\n:::\n\n::: {.column width=\"40%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-27-1.png){fig-align='center' width=672}\n:::\n:::\n\n:::\n:::\n\n## How can we code this variable?\n\nWe have two options:\n\n::: columns\n::: column\n::: definition\n::: def-title\nTreat the levels as nominal, and use reference cell coding\n:::\n\n::: def-cont\n-   Like we did with world regions\n\n-   This option will not break the linearity assumption\n\n-   For $g$ categories of the variable, we will have $g-1$ coefficients to estimate\n:::\n:::\n:::\n\n::: column\n::: proof1\n::: proof-title\nUse the ordinal values to score the levels and treat as a numerical variable\n:::\n\n::: proof-cont\n-   Even if a variable is inherently ordered, we need to check that linearity holds if categories are represented as numbers\n\n-   This way of coding preserves more power in the model (less coefficients to estimate means more power)\n\n-   Only one coefficient to estimate\n:::\n:::\n:::\n:::\n\n## Some important considerations when scoring ordinal variables\n\n-   Even if a variable is inherently ordered, we need to check that linearity holds if categories are represented as numbers\n\n \n\n-   Assumes differences between adjacent groups are equal\n\n    -   Income levels are pre-set groups by Gapminder\n    -   Might be hard to interpret \"every 1-level increase in income level\"\n   \n \n \n-   Is the variable part of the main relationship that you are investigating? (even if linearity holds)\n\n    -   If yes, consider leaving as reference cell coding unless the interpretation makes sense\n    \n    -   If no, and just needed as an adjustment in your model, then power benefit of scoring might be worth it!\n\n## Check that linearity holds for income levels\n\n::: columns\n::: {.column width=\"40%\"}\n-   Using visual assessment, linearity holds for our income levels\n\n-   We can use the ordinal encoding for income levels\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-28-1.png){fig-align='center' width=720}\n:::\n:::\n\n:::\n:::\n\n## Poll Everywhere Question 3\n\n## Ordinal coding / Scoring\n\n-   Map each income level to a number\n\n-   Usually start at 1\n\n| Income Level        | Score |\n|---------------------|-------|\n| Low income          | 1     |\n| Lower middle income | 2     |\n| Upper middle income | 3     |\n| High income         | 4     |\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapm2 = gapm2 %>%\n  mutate(income_num = as.numeric(income_levels))\nstr(gapm2$income_num)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n num [1:187] 1 3 3 4 2 4 3 2 4 4 ...\n```\n:::\n:::\n\n\n## Run the model with the scored income\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmod_inc2 = lm(LifeExpectancyYrs ~ income_num, data = gapm2)\ntidy(mod_inc2) %>% gt() %>% tab_options(table.font.size = 37) %>%\n  fmt_number(decimals = 2)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"dklunoyfix\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#dklunoyfix table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#dklunoyfix thead, #dklunoyfix tbody, #dklunoyfix tfoot, #dklunoyfix tr, #dklunoyfix td, #dklunoyfix th {\n  border-style: none;\n}\n\n#dklunoyfix p {\n  margin: 0;\n  padding: 0;\n}\n\n#dklunoyfix .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 37px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#dklunoyfix .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#dklunoyfix .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#dklunoyfix .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#dklunoyfix .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#dklunoyfix .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#dklunoyfix .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#dklunoyfix .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#dklunoyfix .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#dklunoyfix .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#dklunoyfix .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dklunoyfix .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#dklunoyfix .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#dklunoyfix .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#dklunoyfix .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dklunoyfix .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#dklunoyfix .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#dklunoyfix .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#dklunoyfix .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dklunoyfix .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#dklunoyfix .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dklunoyfix .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#dklunoyfix .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dklunoyfix .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dklunoyfix .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dklunoyfix .gt_left {\n  text-align: left;\n}\n\n#dklunoyfix .gt_center {\n  text-align: center;\n}\n\n#dklunoyfix .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#dklunoyfix .gt_font_normal {\n  font-weight: normal;\n}\n\n#dklunoyfix .gt_font_bold {\n  font-weight: bold;\n}\n\n#dklunoyfix .gt_font_italic {\n  font-style: italic;\n}\n\n#dklunoyfix .gt_super {\n  font-size: 65%;\n}\n\n#dklunoyfix .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#dklunoyfix .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#dklunoyfix .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#dklunoyfix .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#dklunoyfix .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#dklunoyfix .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#dklunoyfix .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\">estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"std.error\">std.error</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">54.01</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">1.06</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">51.03</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">income_num</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">6.25</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">0.37</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">16.91</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n$$\\begin{aligned}\n\\widehat{\\textrm{LE}} &=  \\widehat\\beta_0 + \\widehat\\beta_1 \\cdot \\text{Income level} \\\\\n\\widehat{\\textrm{LE}} &=  54.01 + 6.25 \\cdot \\text{Income level}\n\\end{aligned}$$\n\n-   Keep in mind: We cannot calculate the expected outcome outside of the scoring values\n\n    -   For example, we cannot find the mean life expectancy for an income level of 1.5\n\n## Interpreting the model\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"cmyzagodmm\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#cmyzagodmm table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#cmyzagodmm thead, #cmyzagodmm tbody, #cmyzagodmm tfoot, #cmyzagodmm tr, #cmyzagodmm td, #cmyzagodmm th {\n  border-style: none;\n}\n\n#cmyzagodmm p {\n  margin: 0;\n  padding: 0;\n}\n\n#cmyzagodmm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 37px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#cmyzagodmm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#cmyzagodmm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#cmyzagodmm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#cmyzagodmm .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#cmyzagodmm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#cmyzagodmm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#cmyzagodmm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#cmyzagodmm .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#cmyzagodmm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#cmyzagodmm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#cmyzagodmm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#cmyzagodmm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#cmyzagodmm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#cmyzagodmm .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cmyzagodmm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#cmyzagodmm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#cmyzagodmm .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#cmyzagodmm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cmyzagodmm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#cmyzagodmm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cmyzagodmm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#cmyzagodmm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cmyzagodmm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cmyzagodmm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cmyzagodmm .gt_left {\n  text-align: left;\n}\n\n#cmyzagodmm .gt_center {\n  text-align: center;\n}\n\n#cmyzagodmm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#cmyzagodmm .gt_font_normal {\n  font-weight: normal;\n}\n\n#cmyzagodmm .gt_font_bold {\n  font-weight: bold;\n}\n\n#cmyzagodmm .gt_font_italic {\n  font-style: italic;\n}\n\n#cmyzagodmm .gt_super {\n  font-size: 65%;\n}\n\n#cmyzagodmm .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#cmyzagodmm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#cmyzagodmm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#cmyzagodmm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#cmyzagodmm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#cmyzagodmm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#cmyzagodmm .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term\">term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\">estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"std.error\">std.error</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\">conf.low</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.high\">conf.high</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">54.01</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">1.06</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">51.03</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">51.92</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">56.10</td></tr>\n    <tr><td headers=\"term\" class=\"gt_row gt_left\">income_num</td>\n<td headers=\"estimate\" class=\"gt_row gt_right\">6.25</td>\n<td headers=\"std.error\" class=\"gt_row gt_right\">0.37</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\">16.91</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"conf.low\" class=\"gt_row gt_right\">5.52</td>\n<td headers=\"conf.high\" class=\"gt_row gt_right\">6.98</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n$$\\widehat{\\textrm{LE}} =  54.01 + 6.25 \\cdot \\text{Income level}$$\n\n-   **Interpreting the intercept:** At an income level of 0, mean life expectancy is 54.01 (95% CI: 51.92, 56.10).\n\n    -   Note: this does not make sense because there is no income level of 0!\n    \n-   **Interpreting the coefficient for income:** For every 1-level increase in income level, mean life expectancy increases 6.25 years (95% CI: 5.52, 6.98).\n\n## What if life expectancy vs. income level looked like this?\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-33-1.png){fig-align='center' width=720}\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n-   No longer maintaining the linearity assumption\n-   Need to use reference cell coding\n\n \n\n-   We would fit the following model: \n$$\\begin{aligned}\n\\textrm{LE} = & \\beta_0 + \\beta_1 \\cdot I(\\text{Lower middle income}) + \\\\ & \\beta_2 \\cdot I(\\text{Upper middle income}) + \\\\ & \\beta_3 \\cdot I(\\text{High income}) + \\epsilon\n\\end{aligned}$$\n:::\n:::\n\n## If time...\n\n[Let's walk through categorical variables that have multiple selections](https://weallcount.com/2022/10/27/4-approaches-to-multiple-race-questions/)\n\n-   So each group is not mutually exclusive\n\n-   We could make an indicator for each category, but individuals could be a part of multiple categories\n\n## Next time, we'll start looking at interactions v. additive effects\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](10_Cat_covariates_files/figure-revealjs/unnamed-chunk-34-1.png){fig-align='center' width=864}\n:::\n:::\n",
    "supporting": [
      "10_Cat_covariates_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
{
  "hash": "c7b7a30931806c9996edcd7a0bbe56f7",
  "result": {
    "markdown": "---\ntitle: \"NHANES\"\nauthor: \"Meike Niederhausen\"\ndate: \"2022-11-28\"\noutput: html_document\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n# NHANES\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(NHANES)\nlibrary(skimr)\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'janitor'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(broom)\ndata(\"NHANES\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(NHANES)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |       |\n|:------------------------|:------|\n|Name                     |NHANES |\n|Number of rows           |10000  |\n|Number of columns        |76     |\n|_______________________  |       |\n|Column type frequency:   |       |\n|factor                   |31     |\n|numeric                  |45     |\n|________________________ |       |\n|Group variables          |None   |\n\n\n**Variable type: factor**\n\n|skim_variable    | n_missing| complete_rate|ordered | n_unique|top_counts                                 |\n|:----------------|---------:|-------------:|:-------|--------:|:------------------------------------------|\n|SurveyYr         |         0|          1.00|FALSE   |        2|200: 5000, 201: 5000                       |\n|Gender           |         0|          1.00|FALSE   |        2|fem: 5020, mal: 4980                       |\n|AgeDecade        |       333|          0.97|FALSE   |        8|40: 1398,  0-: 1391,  10: 1374,  20: 1356  |\n|Race1            |         0|          1.00|FALSE   |        5|Whi: 6372, Bla: 1197, Mex: 1015, Oth: 806  |\n|Race3            |      5000|          0.50|FALSE   |        6|Whi: 3135, Bla: 589, Mex: 480, His: 350    |\n|Education        |      2779|          0.72|FALSE   |        5|Som: 2267, Col: 2098, Hig: 1517, 9 -: 888  |\n|MaritalStatus    |      2769|          0.72|FALSE   |        6|Mar: 3945, Nev: 1380, Div: 707, Liv: 560   |\n|HHIncome         |       811|          0.92|FALSE   |       12|mor: 2220, 750: 1084, 250: 958, 350: 863   |\n|HomeOwn          |        63|          0.99|FALSE   |        3|Own: 6425, Ren: 3287, Oth: 225             |\n|Work             |      2229|          0.78|FALSE   |        3|Wor: 4613, Not: 2847, Loo: 311             |\n|BMICatUnder20yrs |      8726|          0.13|FALSE   |        4|Nor: 805, Obe: 221, Ove: 193, Und: 55      |\n|BMI_WHO          |       397|          0.96|FALSE   |        4|18.: 2911, 30.: 2751, 25.: 2664, 12.: 1277 |\n|Diabetes         |       142|          0.99|FALSE   |        2|No: 9098, Yes: 760                         |\n|HealthGen        |      2461|          0.75|FALSE   |        5|Goo: 2956, Vgo: 2508, Fai: 1010, Exc: 878  |\n|LittleInterest   |      3333|          0.67|FALSE   |        3|Non: 5103, Sev: 1130, Mos: 434             |\n|Depressed        |      3327|          0.67|FALSE   |        3|Non: 5246, Sev: 1009, Mos: 418             |\n|SleepTrouble     |      2228|          0.78|FALSE   |        2|No: 5799, Yes: 1973                        |\n|PhysActive       |      1674|          0.83|FALSE   |        2|Yes: 4649, No: 3677                        |\n|TVHrsDay         |      5141|          0.49|FALSE   |        7|2_h: 1275, 1_h: 884, 3_h: 836, 0_t: 638    |\n|CompHrsDay       |      5137|          0.49|FALSE   |        7|0_t: 1409, 0_h: 1073, 1_h: 1030, 2_h: 589  |\n|Alcohol12PlusYr  |      3420|          0.66|FALSE   |        2|Yes: 5212, No: 1368                        |\n|SmokeNow         |      6789|          0.32|FALSE   |        2|No: 1745, Yes: 1466                        |\n|Smoke100         |      2765|          0.72|FALSE   |        2|No: 4024, Yes: 3211                        |\n|Smoke100n        |      2765|          0.72|FALSE   |        2|Non: 4024, Smo: 3211                       |\n|Marijuana        |      5059|          0.49|FALSE   |        2|Yes: 2892, No: 2049                        |\n|RegularMarij     |      5059|          0.49|FALSE   |        2|No: 3575, Yes: 1366                        |\n|HardDrugs        |      4235|          0.58|FALSE   |        2|No: 4700, Yes: 1065                        |\n|SexEver          |      4233|          0.58|FALSE   |        2|Yes: 5544, No: 223                         |\n|SameSex          |      4232|          0.58|FALSE   |        2|No: 5353, Yes: 415                         |\n|SexOrientation   |      5158|          0.48|FALSE   |        3|Het: 4638, Bis: 119, Hom: 85               |\n|PregnantNow      |      8304|          0.17|FALSE   |        3|No: 1573, Yes: 72, Unk: 51                 |\n\n\n**Variable type: numeric**\n\n|skim_variable   | n_missing| complete_rate|     mean|       sd|       p0|      p25|      p50|      p75|      p100|hist  |\n|:---------------|---------:|-------------:|--------:|--------:|--------:|--------:|--------:|--------:|---------:|:-----|\n|ID              |         0|          1.00| 61944.64|  5871.17| 51624.00| 56904.50| 62159.50| 67039.00|  71915.00|▇▇▇▇▇ |\n|Age             |         0|          1.00|    36.74|    22.40|     0.00|    17.00|    36.00|    54.00|     80.00|▇▇▇▆▅ |\n|AgeMonths       |      5038|          0.50|   420.12|   259.04|     0.00|   199.00|   418.00|   624.00|    959.00|▇▇▇▆▃ |\n|HHIncomeMid     |       811|          0.92| 57206.17| 33020.28|  2500.00| 30000.00| 50000.00| 87500.00| 100000.00|▃▆▃▁▇ |\n|Poverty         |       726|          0.93|     2.80|     1.68|     0.00|     1.24|     2.70|     4.71|      5.00|▅▅▃▃▇ |\n|HomeRooms       |        69|          0.99|     6.25|     2.28|     1.00|     5.00|     6.00|     8.00|     13.00|▂▆▇▂▁ |\n|Weight          |        78|          0.99|    70.98|    29.13|     2.80|    56.10|    72.70|    88.90|    230.70|▂▇▂▁▁ |\n|Length          |      9457|          0.05|    85.02|    13.71|    47.10|    75.70|    87.00|    96.10|    112.20|▁▃▆▇▃ |\n|HeadCirc        |      9912|          0.01|    41.18|     2.31|    34.20|    39.58|    41.45|    42.92|     45.40|▁▂▇▇▅ |\n|Height          |       353|          0.96|   161.88|    20.19|    83.60|   156.80|   166.00|   174.50|    200.40|▁▁▁▇▂ |\n|BMI             |       366|          0.96|    26.66|     7.38|    12.88|    21.58|    25.98|    30.89|     81.25|▇▆▁▁▁ |\n|Pulse           |      1437|          0.86|    73.56|    12.16|    40.00|    64.00|    72.00|    82.00|    136.00|▂▇▃▁▁ |\n|BPSysAve        |      1449|          0.86|   118.15|    17.25|    76.00|   106.00|   116.00|   127.00|    226.00|▃▇▂▁▁ |\n|BPDiaAve        |      1449|          0.86|    67.48|    14.35|     0.00|    61.00|    69.00|    76.00|    116.00|▁▁▇▇▁ |\n|BPSys1          |      1763|          0.82|   119.09|    17.50|    72.00|   106.00|   116.00|   128.00|    232.00|▂▇▂▁▁ |\n|BPDia1          |      1763|          0.82|    68.28|    13.78|     0.00|    62.00|    70.00|    76.00|    118.00|▁▁▇▆▁ |\n|BPSys2          |      1647|          0.84|   118.48|    17.49|    76.00|   106.00|   116.00|   128.00|    226.00|▃▇▂▁▁ |\n|BPDia2          |      1647|          0.84|    67.66|    14.42|     0.00|    60.00|    68.00|    76.00|    118.00|▁▁▇▆▁ |\n|BPSys3          |      1635|          0.84|   117.93|    17.18|    76.00|   106.00|   116.00|   126.00|    226.00|▃▇▂▁▁ |\n|BPDia3          |      1635|          0.84|    67.30|    14.96|     0.00|    60.00|    68.00|    76.00|    116.00|▁▁▇▇▁ |\n|Testosterone    |      5874|          0.41|   197.90|   226.50|     0.25|    17.70|    43.82|   362.41|   1795.60|▇▂▁▁▁ |\n|DirectChol      |      1526|          0.85|     1.36|     0.40|     0.39|     1.09|     1.29|     1.58|      4.03|▅▇▂▁▁ |\n|TotChol         |      1526|          0.85|     4.88|     1.08|     1.53|     4.11|     4.78|     5.53|     13.65|▂▇▁▁▁ |\n|UrineVol1       |       987|          0.90|   118.52|    90.34|     0.00|    50.00|    94.00|   164.00|    510.00|▇▅▂▁▁ |\n|UrineFlow1      |      1603|          0.84|     0.98|     0.95|     0.00|     0.40|     0.70|     1.22|     17.17|▇▁▁▁▁ |\n|UrineVol2       |      8522|          0.15|   119.68|    90.16|     0.00|    52.00|    95.00|   171.75|    409.00|▇▆▃▂▁ |\n|UrineFlow2      |      8524|          0.15|     1.15|     1.07|     0.00|     0.48|     0.76|     1.51|     13.69|▇▁▁▁▁ |\n|DiabetesAge     |      9371|          0.06|    48.42|    15.68|     1.00|    40.00|    50.00|    58.00|     80.00|▁▂▆▇▂ |\n|DaysPhysHlthBad |      2468|          0.75|     3.33|     7.40|     0.00|     0.00|     0.00|     3.00|     30.00|▇▁▁▁▁ |\n|DaysMentHlthBad |      2466|          0.75|     4.13|     7.83|     0.00|     0.00|     0.00|     4.00|     30.00|▇▁▁▁▁ |\n|nPregnancies    |      7396|          0.26|     3.03|     1.80|     1.00|     2.00|     3.00|     4.00|     32.00|▇▁▁▁▁ |\n|nBabies         |      7584|          0.24|     2.46|     1.32|     0.00|     2.00|     2.00|     3.00|     12.00|▇▅▁▁▁ |\n|Age1stBaby      |      8116|          0.19|    22.65|     4.77|    14.00|    19.00|    22.00|    26.00|     39.00|▆▇▅▂▁ |\n|SleepHrsNight   |      2245|          0.78|     6.93|     1.35|     2.00|     6.00|     7.00|     8.00|     12.00|▁▅▇▁▁ |\n|PhysActiveDays  |      5337|          0.47|     3.74|     1.84|     1.00|     2.00|     3.00|     5.00|      7.00|▇▇▃▅▅ |\n|TVHrsDayChild   |      9347|          0.07|     1.94|     1.43|     0.00|     1.00|     2.00|     3.00|      6.00|▇▆▂▂▂ |\n|CompHrsDayChild |      9347|          0.07|     2.20|     2.52|     0.00|     0.00|     1.00|     6.00|      6.00|▇▁▁▁▃ |\n|AlcoholDay      |      5086|          0.49|     2.91|     3.18|     1.00|     1.00|     2.00|     3.00|     82.00|▇▁▁▁▁ |\n|AlcoholYear     |      4078|          0.59|    75.10|   103.03|     0.00|     3.00|    24.00|   104.00|    364.00|▇▁▁▁▁ |\n|SmokeAge        |      6920|          0.31|    17.83|     5.33|     6.00|    15.00|    17.00|    19.00|     72.00|▇▂▁▁▁ |\n|AgeFirstMarij   |      7109|          0.29|    17.02|     3.90|     1.00|    15.00|    16.00|    19.00|     48.00|▁▇▂▁▁ |\n|AgeRegMarij     |      8634|          0.14|    17.69|     4.81|     5.00|    15.00|    17.00|    19.00|     52.00|▂▇▁▁▁ |\n|SexAge          |      4460|          0.55|    17.43|     3.72|     9.00|    15.00|    17.00|    19.00|     50.00|▇▅▁▁▁ |\n|SexNumPartnLife |      4275|          0.57|    15.09|    57.85|     0.00|     2.00|     5.00|    12.00|   2000.00|▇▁▁▁▁ |\n|SexNumPartYear  |      5072|          0.49|     1.34|     2.78|     0.00|     1.00|     1.00|     1.00|     69.00|▇▁▁▁▁ |\n:::\n\n```{.r .cell-code}\n# 16 Depressed             3327         0.667 FALSE          3 \"Non: 5246, Sev: 1009, Mos: 418\"            \n# 17 SleepTrouble          2228         0.777 FALSE          2 \"No: 5799, Yes: 1973\"                       \n# 18 PhysActive            1674         0.833 FALSE          2 \"Yes: 4649, No: 3677\"          \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nNHANES18 <- NHANES %>% dplyr::filter(Age >= 18)\nNHANES18 %>% tabyl(Depressed, PhysActive)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Depressed   No  Yes\n      None 2297 2949\n   Several  538  471\n      Most  275  143\n      <NA>  423  385\n```\n:::\n\n```{.r .cell-code}\nNHANES18 %>% drop_na(Depressed) %>% tabyl(Depressed, PhysActive)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Depressed   No  Yes\n      None 2297 2949\n   Several  538  471\n      Most  275  143\n```\n:::\n\n```{.r .cell-code}\nNHANES18Dep <- NHANES18 %>% drop_na(Depressed)\nNHANES18Dep %>% \n  tabyl(Depressed, PhysActive) %>% \n  adorn_totals()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Depressed   No  Yes\n      None 2297 2949\n   Several  538  471\n      Most  275  143\n     Total 3110 3563\n```\n:::\n\n```{.r .cell-code}\nchisq_Dep_Phys<- chisq.test(NHANES18Dep$Depressed, NHANES18Dep$PhysActive)\ntidy(chisq_Dep_Phys)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 4\n  statistic  p.value parameter method                    \n      <dbl>    <dbl>     <int> <chr>                     \n1      96.9 9.26e-22         2 Pearson's Chi-squared test\n```\n:::\n\n```{.r .cell-code}\nchisq_Dep_Phys$expected\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                     NHANES18Dep$PhysActive\nNHANES18Dep$Depressed        No       Yes\n              None    2444.9363 2801.0637\n              Several  470.2518  538.7482\n              Most     194.8119  223.1881\n```\n:::\n\n```{.r .cell-code}\nchisq_Dep_Phys$observed\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                     NHANES18Dep$PhysActive\nNHANES18Dep$Depressed   No  Yes\n              None    2297 2949\n              Several  538  471\n              Most     275  143\n```\n:::\n\n```{.r .cell-code}\nlibrary(moderndive)\nset.seed(5348)\n# 5347\nNHANES18Dep200 <- NHANES18Dep %>%\n  rep_sample_n(size = 200, reps = 1, replace = FALSE)\n\nNHANES18Dep200 %>% \n  tabyl(Depressed, PhysActive) %>% \n  adorn_totals()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Depressed No Yes\n      None 63  79\n   Several 19  18\n      Most 10  11\n     Total 92 108\n```\n:::\n\n```{.r .cell-code}\nchisq_Dep_Phys200<- chisq.test(NHANES18Dep200$Depressed, NHANES18Dep200$PhysActive)\ntidy(chisq_Dep_Phys200)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 4\n  statistic p.value parameter method                    \n      <dbl>   <dbl>     <int> <chr>                     \n1     0.601   0.740         2 Pearson's Chi-squared test\n```\n:::\n\n```{.r .cell-code}\nchisq_Dep_Phys200$expected\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                        NHANES18Dep200$PhysActive\nNHANES18Dep200$Depressed    No   Yes\n                 None    65.32 76.68\n                 Several 17.02 19.98\n                 Most     9.66 11.34\n```\n:::\n\n```{.r .cell-code}\nchisq_Dep_Phys200$observed\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                        NHANES18Dep200$PhysActive\nNHANES18Dep200$Depressed No Yes\n                 None    63  79\n                 Several 19  18\n                 Most    10  11\n```\n:::\n\n```{.r .cell-code}\n#------------\nset.seed(5349)\nNHANES18Dep400 <- NHANES18Dep %>%\n  rep_sample_n(size = 400, reps = 1, replace = FALSE)\n\nNHANES18Dep400 %>% \n  tabyl(PhysActive, Depressed) %>% \n  adorn_totals(where = c(\"row\", \"col\")) %>% \n  adorn_title \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            Depressed                   \n PhysActive      None Several Most Total\n         No       115      32   27   174\n        Yes       199      26    1   226\n      Total       314      58   28   400\n```\n:::\n\n```{.r .cell-code}\nchisq_Dep_Phys400<- chisq.test(NHANES18Dep400$Depressed, NHANES18Dep400$PhysActive)\ntidy(chisq_Dep_Phys400)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 4\n  statistic       p.value parameter method                    \n      <dbl>         <dbl>     <int> <chr>                     \n1      41.2 0.00000000115         2 Pearson's Chi-squared test\n```\n:::\n\n```{.r .cell-code}\nchisq_Dep_Phys400$observed\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                        NHANES18Dep400$PhysActive\nNHANES18Dep400$Depressed  No Yes\n                 None    115 199\n                 Several  32  26\n                 Most     27   1\n```\n:::\n\n```{.r .cell-code}\nchisq_Dep_Phys400$expected\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                        NHANES18Dep400$PhysActive\nNHANES18Dep400$Depressed     No    Yes\n                 None    136.59 177.41\n                 Several  25.23  32.77\n                 Most     12.18  15.82\n```\n:::\n\n```{.r .cell-code}\nset.seed(5349)\nNHANES18Dep_PAy100 <- NHANES18Dep %>% filter(PhysActive == \"Yes\") %>% \n  rep_sample_n(size = 100, reps = 1, replace = FALSE)\nNHANES18Dep_PAy100 %>% tabyl(Depressed)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Depressed  n percent\n      None 85    0.85\n   Several 12    0.12\n      Most  3    0.03\n```\n:::\n\n```{.r .cell-code}\nNHANES18Dep_PAn100 <- NHANES18Dep %>% filter(PhysActive == \"No\") %>% \n  rep_sample_n(size = 100, reps = 1, replace = FALSE)\nNHANES18Dep_PAn100 %>% tabyl(Depressed)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Depressed  n percent\n      None 78    0.78\n   Several 17    0.17\n      Most  5    0.05\n```\n:::\n\n```{.r .cell-code}\n(DepPA200_table <- matrix(c(83, 12, 5, 78, 16, 6), nrow = 2, ncol = 3, byrow = T))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     [,1] [,2] [,3]\n[1,]   83   12    5\n[2,]   78   16    6\n```\n:::\n\n```{.r .cell-code}\ndimnames(DepPA200_table) <- list(\"PA\" = c(\"Yes\", \"No\"),   # row names\n                              \"Depression\" = c(\"None\", \"Several\", \"Most\"))  # column names\nDepPA200_table\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     Depression\nPA    None Several Most\n  Yes   83      12    5\n  No    78      16    6\n```\n:::\n\n```{.r .cell-code}\nchisq.test(DepPA200_table) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPearson's Chi-squared test\n\ndata:  DepPA200_table\nX-squared = 0.81762, df = 2, p-value = 0.6644\n```\n:::\n\n```{.r .cell-code}\nchisq.test(DepPA200_table)$expected\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     Depression\nPA    None Several Most\n  Yes 80.5      14  5.5\n  No  80.5      14  5.5\n```\n:::\n\n```{.r .cell-code}\nset.seed(5349)\nNHANES18Dep_PAy50 <- NHANES18Dep %>% filter(PhysActive == \"Yes\") %>% \n  rep_sample_n(size = 50, reps = 1, replace = FALSE)\nNHANES18Dep_PAy50 %>% tabyl(Depressed)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Depressed  n percent\n      None 43    0.86\n   Several  6    0.12\n      Most  1    0.02\n```\n:::\n\n```{.r .cell-code}\nNHANES18Dep_PAn50 <- NHANES18Dep %>% filter(PhysActive == \"No\") %>% \n  rep_sample_n(size = 50, reps = 1, replace = FALSE)\nNHANES18Dep_PAn50 %>% tabyl(Depressed)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Depressed  n percent\n      None 30    0.60\n   Several 14    0.28\n      Most  6    0.12\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
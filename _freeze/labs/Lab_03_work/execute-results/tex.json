{
  "hash": "66d14e5fc78cfa19d0da99dca682e08c",
  "result": {
    "markdown": "---\ntitle: \"Lab 3 Instructions\"\nsubtitle: \"BSTA 512/612\"\ndescription: \"Due: Thursday February 29, 2024\"\ndate-modified: \"12/21/2024\"\ndate: \"2/29/2024\"\ncategories: [\"\"]\nformat: \n  html:\n    link-external-newwindow: true\n    toc: true\n    self-contained: true\n  pdf: default \neditor_options: \n  chunk_output_type: console\n---\n\n\n\n::: callout-warning\n## IMPORTANT TO READ\n\n-   Please do not delete the rubric from your `.qmd` file. I will use it to circle the grades!\n\n-   There is an intructions file and a file for you to edit and turn in. Please only work in the latter file!!\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# PLEASE DO NOT REMOVE THIS CODE CHUNK!!!\n### ADD YOUR LIBRARIES HERE!!! ####\n\nlibrary(tidyverse)\nlibrary(gtsummary)\nlibrary(here)\nif(!require(lubridate)) { install.packages(\"lubridate\"); library(lubridate) }\nload(\"~/Library/CloudStorage/OneDrive-OregonHealth&ScienceUniversity/Teaching/Datasets/Implicit_anti_fat_bias/Data/Data_2021/iat_data.rda\")\n```\n:::\n\n\n\n## Directions\n\nPlease turn in your `.html` file [on Sakai.](https://sakai.ohsu.edu/portal/site/BSTA-512-1-AB-W24/tool/961ec5ef-d7f9-4518-be16-25f7af3d6be4?panel=Main) Please let me know if you greatly prefer to submit a physical copy.\n\n[You can download the `.qmd` file for this lab here.](https://github.com/nwakim/W2024_BSTA_512/blob/main/labs/Lab_03_students.qmd)\n\nThis is the **instructions** file. The link above will take you to the **editing** file where you can add your work!! Please do not remove anything from the editing file!!\n\n### Purpose\n\nThe main purpose of this lab is to perform some quality control on our data, recode some of the multi-selection categorical variables, continue data exploration, and start analyzing the main relationship of our research question.\n\n### Grading\n\n**This lab is graded out of 12 points.** Nicky will use the following rubric to assign grades.\n\n#### Rubric\n\n|             | 4 points                                                                                                                                                                                                        | 3 points                                                                                                                                                                                       | 2 points                                                                                                                                                                                                   | 1 point                                                                                                                                                                                  | 0 points                                                                                                               |\n|------------|------------|------------|------------|------------|------------|\n| Formatting  | Lab submitted on Sakai with `.html` file. Answers are written in complete sentences with no major grammatical nor spelling errors. With little editing, the answer can be incorporated into the project report. | Lab submitted on Sakai with `.html` file. Answers are written in complete sentences with grammatical or spelling errors. With editing, the answer can be incorporated into the project report. | Lab submitted on Sakai with `.html` file. Answers are written in complete sentences with major grammatical or spelling errors. With major editing, the answer can be incorporated into the project report. | Lab submitted on Sakai with `.html` file. Answers are bulletted or do not use complete sentences.                                                                                        | Lab *not* submitted on Sakai with `.html` file.                                                                        |\n| Code/Work   | All tasks are directly followed or answered. This includes all the needed code, in code chunks, with the requested output.                                                                                      | All tasks are directly followed or answered. This includes all the needed code, in code chunks, with the requested output. In a few tasks, the code syntax or output is not quite right.       | Some tasks are directly followed or answered. This includes all the needed code, in code chunks, with the requested output.                                                                                | Some tasks are directly followed or answered.This includes all the needed code, in code chunks, with the requested output. In a few tasks, the code syntax or output is not quite right. | More than a quarter of the tasks are not completed properly.                                                           |\n| Reasoning\\* | Answers demonstrate understanding of research context and investigation of the data. Answers are thoughtful and can be easily integrated into the final report.                                                 | Answers demonstrate understanding of research context and investigation of the data. Answers are thoughtful, but lack the clarity needed to easily integrate into the final report.            | Answers demonstrate some understanding of research context and investigation of the data. Answers are fairly thoughtful, but lack connection to the research.                                              | Answers demonstrate some understanding of research context and investigation of the data. Answers seem rushed and with minimal thought.                                                  | Answers lack understanding of research context and investigation of the data. Answers seem rushed and without thought. |\n\n\\*Applies to questions with reasoning (like target population, choosing variables, revisiting research question)\n\n## Lab activities\n\n### 0. Restate your research question\n\n::: callout-important\n##### Task\n\nPlease restate your research question below using the following format. It's repetitive, but it helps me contextualize my feedback as I look through your lab.\n:::\n\nHow is implicit anti-fat bias, as measured by the IAT score, associated with \"insert main independent variable here\"?\n\n## 1. Quality Control\n\nThere are a few more issues with the data that we need to look into. First, there is another coding for `NA` values in the race variable: `-999`. We will need to filter out these observations.\n\nWe will also need to look at individuals who have potentially answered the survey questions untruthfully. We cannot catch everything, but a good place to start is by looking at individuals who have done more than one of the following:\n\n-   selected the earliest or latest possible birth year\n\n-   selected the lowest or highest possible education\n\n-   selected all gender identities (for those using gender identity)\n\n-   selected all races (for those using multiple selection race)\n\n-   selected the lowest or highest weight (for those looking at BMI)\n\n-   selected the lowest or highest height (for those looking at BMI)\n\nI want to take a second to mention that any of the above selections, and combinations of the above selections, are valid. However, we should start to flag the possibility that someone has **not** gone through the survey properly if we notice that most or all of the respondent's answers are the first answer choice, last answer choice, or selected all options. Additionally, not all of these carry the same importance in discerning validity. For example, a recorded age of 111 years old is the most striking to me. When paired with other selections that are the maximum or minimum (or first or last) option, then I will record it for future investigation. If this observation looks to be an outlier or high leverage point in our analysis, that is when I'll decide to remove it.\n\n::: callout-important\n## Tasks for 1.1\n\n1.  Filter out observations with a value of -999 in the race variable.\n2.  Glimpse at the observations that may indicate a respondent who has not properly completed the survey portion. This will require filtering **for** specific answer choices. [Please see examples of `filter()` on it's documentation page.](https://dplyr.tidyverse.org/reference/filter.html#ref-examples)\n:::\n\n### 1. Working with multi-selection variables\n\nIn the list of variables that we may choose to work with (in Lab 2), there are two that allowed respondents to select multiple categories. The two variables are `genderIdentitiy` and `raceombmulti`. **If you did not choose these variables to work with, you may skip this section.**\n\nIf you chose one or both of these variables, then we need to make new variables that correspond to indicators for each possible selection in the respective variable.\n\nLet's start with the `grepl` function. For this function, we can input one of our column names and a value, then it will output, for each row, if the value is in the column. For example, in `genderIdentity` an individual may identify as a \"Trans female/Trans woman\" and \"Gender queer/Gender nonconforming.\" In our dataset in R, this would show as `[4,5]` in `genderIdentity`. If we want to create two separate indicators for anyone who identifies as \"Trans female/Trans woman\" then I need to look for the value `4` in the column `genderIdentity`. I will run a separate indicator to find individuals who identify as \"Gender queer/Gender nonconforming.\" Here is an example code of how I would use `grepl` to do this:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\niat_prep_new = iat_prep_old %>%\n  mutate(ind_tf_tw = grepl(4, genderIdentity), \n         ind_gq_gnc = grepl(5, genderIdentity))\n```\n:::\n\n\n\nYou will need to extend this to all other gender identities.\n\nFor race, `raceombmulti` is also the follow up question to `raceomb_002`. So our indicators need to reflect both variables. In this case, we need to use `grepl` on both columns at once. For example, if I want to create an indicator for individuals who identify as American Indian/Alaskan Native then I need to find individuals who identify as American Indian/Alaskan Native only and individuals who identify as American Indian/Alaskan Native in addition to another race. For example, my code might look like:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\niat_prep_new = iat_prep_old %>%\n  mutate(ind_AIAN = grepl(1, raceomb_002) | grepl(1, raceombmulti))\n```\n:::\n\n\n\nI suggest only searching for 1-7 in both `raceomb_002` and `raceombmulti`. Note that if `raceomb_002 = 8` , then individuals identified as \"multiracial\" and will select values in `raceombmulti`.\n\n::: callout-important\n## Task for 1.2\n\n-   If you are using `genderIdentity` or `raceombmulti`, create indicator variables for each possible selection.\n:::\n\n### 2. Continuing data exploration\n\nIn this section\n\n-   Look at all other relationships between IAT score and each covariate.\n\n    -   For categorical variables, is there an inherent order? Does the ordered values follow a linear relationship? Are the categories evenly spaced? Think education - is there a natural place to divide the categories up?? multivariate data exploration\n\n### 3. Make a Table 1\n\n### 4. Fit the simple linear regression\n",
    "supporting": [
      "Lab_03_work_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}